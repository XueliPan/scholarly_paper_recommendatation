Appearance Manifolds for Modeling Time-Variant Appearance of Materials

Jiaping Wang∗ Xin Tong† Stephen Lin† Minghao Pan‡ Chao Wang§ Hujun Bao‡ Baining Guo† Heung-Yeung Shum†

∗ICTCAS & GSCAS

†Microsoft Research Asia

‡Zhejiang University

§Tsinghua University

Figure 1: Synthesis of time-variant weathered appearance from the spatially variant BRDFs of a rusted iron sample (left) measured at a single
instant in time. A 3D gargoyle model is rendered at different points in time.

Abstract

We present a visual simulation technique called appearance mani-
folds for modeling the time-variant surface appearance of a material
from data captured at a single instant in time. In modeling time-
variant appearance, our method takes advantage of the key obser-
vation that concurrent variations in appearance over a surface repre-
sent different degrees of weathering. By reorganizing these various
appearances in a manner that reveals their relative order with re-
spect to weathering degree, our method infers spatial and temporal
appearance properties of the material’s weathering process that can
be used to convincingly generate its weathered appearance at dif-
ferent points in time. Results with natural non-linear reﬂectance
variations are demonstrated in applications such as visual simula-
tion of weathering on 3D models, increasing and decreasing the
weathering of real objects, and material transfer with weathering
effects.

Keywords: time-variant material model, BRDF, texture synthesis

1 Introduction

Materials in the real world exhibit spatial variations that arise natu-
rally over the course of time. From weathering and wear, a surface
undergoes gradual transformations in appearance that progress non-
uniformly over the material due to a number of physical factors.
Large scale variations in material appearance are mainly inﬂuenced

∗This work was done while Jiaping Wang was a visiting student at Mi-
crosoft Research Asia from the Institute of Computing Technology, Chinese
Academy of Sciences (ICTCAS), Graduate School of the Chinese Academy
of Sciences (GSCAS).

†Email:{xtong,stevelin,bainguo,hshum}@microsoft.com

Copyright © 2006 by the Association for Computing Machinery, Inc. 
Permission  to  make  digital  or  hard  copies  of  part  or  all  of  this  work  for  personal  or 
classroom use is granted without fee provided that copies are not made or distributed 
for  commercial  advantage  and  that copies  bear  this  notice  and  the  full  citation  on  the 
first page. Copyrights for components of this work owned by others than ACM must be 
honored. Abstracting with credit is permitted. To copy otherwise, to republish, to post on 
servers,  or  to  redistribute  to  lists,  requires  prior  specific  permission  and/or  a  fee. 
Request permissions from Permissions Dept, ACM Inc., fax +1 (212) 869-0481 or e-mail 
permissions@acm.org. 
© 2006 ACM 0730-0301/06/0700-

0754

 $5.00 

754

by global factors such as object geometry and weathering environ-
ment, while small scale characteristics of a material are primarily
determined by local factors such as physical material interactions
with weather. The local variations in weathered appearance are of-
ten intrinsic to the material, a natural characteristic of how it looks.
In this work, we address the problem of how to generate convincing
weathered appearance of a material on a 3D model over a period of
time.

One approach for generating time-variant material appearance is
to visually simulate the effects of physical processes, referred to
broadly as weathering in this work, on a 3D model (e.g., [Miller
1994; Hsu and Wong 1995; Wong et al. 1997; Chen et al. 2005]).
Existing visual simulation techniques can successfully generate
large scale variations of material appearance based on global fac-
tors such as object geometry and weathering environment. How-
ever, these techniques are limited in their ability to produce local
characteristics that are intrinsic to a material. In [Chen et al. 2005],
local appearance is generated by linearly blending two texture im-
ages of the material according to the degree of weathering at each
point. Unfortunately, linear blending has two problems. First, the
progression of weathered appearance generally follows a non-linear
trajectory, and deviations from this trajectory can lead to unnatural
appearances of the material. Second, for weathering effects involv-
ing texture patterns, intermediate texture variations are ignored.

An alternative approach is to simulate the weathering interac-
tions of a material based on physical principles (e.g., [Dorsey and
Hanrahan 1996; Dorsey et al. 1999]). While realistic results have
been produced through such simulations, they require substantial
computation, and for each new material a complete understand-
ing of its physical weathering process needs to be developed. An-
other way to obtain physically accurate appearance is to capture
a video of a material over time to obtain real-life information on
how appearance changes as weathering progresses (e.g., [Georghi-
ades et al. 2005]). Such data-intensive techniques are often chal-
lenging in practice because of the need for considerable labor and
time. Moreover, technical difﬁculties with image registration and
data storage arise when recording time-variant BRDFs in addition
to surface colors.

For realistic and easy modeling of weathered appearance of ma-
terials, we present a visual simulation technique that acquires time-

variant appearance information from data captured at a single in-
stant in time. Our method capitalizes on the key observation that at
a given instant, spatial variations in surface appearance on a weath-
ered material sample correspond to varying degrees of weathering.
We utilize these appearance variations to construct an appearance
manifold that approximates an underlying subspace of weathered
surface point appearances for the material. Since the principal mode
of variation in the appearance manifold is caused by the progres-
sion of weathering, our method infers from the path of this varia-
tion the relative degrees of weathering among these surface point
appearances. From the assignment of weathering degrees to corre-
sponding appearance states, we can determine spatial and temporal
characteristics of the material’s weathered appearance, including
local appearance properties and valid progressions of surface point
appearance over time.

Our method utilizes these time-variant appearance characteris-
tics to generate convincing weathered appearances of the mate-
rial sample at different points in time. With this evolving ma-
terial appearance and an object whose time-variant global weath-
ering degree distribution has been determined by existing visual
simulation techniques, we propose a new texture synthesis algo-
rithm to generate a time-variant appearance sequence for the given
material and object. Although our technique does not perform a
physically-based weathering simulation, it can easily synthesize
natural-looking non-linear progressions of weathered appearance
and its spatial variations, as shown in Fig. 1. Appearance manifolds
can also be applied for increasing or decreasing the weathering on
a real object. Another application is the transfer of weathered ma-
terial from one object to another, resulting in a material transforma-
tion with realistic weathering detail.

The fact that the appearance manifold is constructed from data
captured at a single instant in time makes our technique versatile
and easy to use. Indeed, we can even generate time-variant weath-
ering appearance from a single color image for a weathering effect
that mainly alters color features. In our experimental results, we
also illustrate weathering and deweathering of an object in a single
image.

2 Related Work

Weathering Simulation High levels of realism in weather-
ing can be attained through simulations based on physical pro-
cesses. Several such techniques target material-speciﬁc effects,
such as metallic patinas [Dorsey and Hanrahan 1996], stone ero-
sion [Dorsey et al. 1999], and paint cracking and peeling [Paquette
et al. 2002]. Others have been designed instead for particular forms
of weathering, such as water ﬂow [Dorsey et al. 1996], corrosion
[Merillou et al. 2001], scratches [Bosch et al. 2004], and lichen
growth [Desbenoit et al. 2004]. Speciﬁc reﬂectance models have
also been developed for dusty [Blinn 1982] and wet [Jensen et al.
1999; Nakamae et al. 1990] surfaces. These works target high phys-
ical accuracy with specialized formulations and considerable com-
putation.
In contrast, our approach aims for simplicity in model
generation with visually convincing, though not physically precise,
synthesis results.

Another approach to generating time-variant surface appearance
is to account for the geometric accessibility of surface areas in de-
termining their relative exposure to external effects [Miller 1994;
Hsu and Wong 1995; Wong et al. 1997; Chen et al. 2005]. These
techniques mainly focus on computing weathering degrees over a
surface and pay little attention to the problem of how to deter-
mine the actual appearance of a point once its weathering degree
is known. Our work on appearance manifolds is complementary to
these methods that determine large-scale weathering distributions
on an object, and can be used to signiﬁcantly elevate the quality of
local appearance in these techniques.

Recently, methods based on captured time-series data have been
presented for modeling appearance variations. An image sequence
acquired from a ﬁxed viewpoint has been used to model object ap-
pearance over the course of a drying process [Lu et al. 2005] and
with respect to changes in certain geometric parameters [Georghi-
ades et al. 2005]. To incorporate view-dependent appearance effects
in synthesis, [Lu et al. 2005] adds to the captured diffuse model a
decaying specular reﬂection component that is a function of wet-
ness. In [Gu et al. 2006], a full spatially-varying BRDF is acquired
over time, and is factorized into temporal and spatial components to
facilitate editing of this time-varying SVBRDF. These works based
on appearance histories beneﬁt from an abundance of actual ap-
pearance data for modeling. In our method, we also utilize image
data but wish to minimize practical difﬁculties in data acquisition
by utilizing a relatively small, easily captured set of data to its full
potential.

Texture Synthesis Natural surface variations may also be sim-
ulated through texture synthesis. Badler and Becket [Badler and
Becket 1990] proposed a system to generate blemish textures based
on fractal subdivision techniques. Procedural [Cook 1984; Mus-
grave et al. 1994] and reaction-diffusion [Turk 1991; Witkin and
Kass 1991] texturing methods incorporate randomness in pattern
generation to produce a natural-looking solution. However, signiﬁ-
cant manual intervention is needed to generate a consistent texture
sequence that matches natural phenomena.

A data driven texture model was proposed in [Matusik et al.
2005] to generate new color textures by navigating within a sub-
space induced by a large set of input texture samples. This model
could potentially be used to help a user in designing static blemish
textures from samples. To generate a consistent texture sequence
for an entire weathering process, however, the user would need to
carefully select an appropriate set of input samples and precisely
guide the navigation among them.

Many example-based texture synthesis approaches as reviewed
in [Lefebvre and Hoppe 2005; Kwatra et al. 2005] have been de-
veloped to generate texture from input texture samples. Most of
these approaches are designed to synthesize static textures. Time-
variant textures are synthesized in [Enrique et al. 2005] from small
time-variant texture samples. Generally in these techniques, the in-
put texture sample and the synthesized result must be of the same
dimension; they cannot be applied in our application where the in-
put is a single 6D SVBRDF while the synthesis output is a 7D
time-variant SVBRDF. Recently, a texture optimization approach
[Kwatra et al. 2005] was proposed to generate consistent 3D tex-
ture sequences controlled by ﬂow ﬁelds speciﬁed on 2D input tex-
tures. However, it handles only homogeneous textures, whereas
a time-variant appearance sequence typically exhibits spatial and
temporal variations in appearance characteristics. To address pro-
gressive variations, a pixel-based approach [Zhang et al. 2003] was
proposed to faithfully synthesize texture and its variations on a sur-
face. However, only static textures are generated in their method.
For synthesis based on appearance manifold information, we extend
the existing texture synthesis methods to obtain consistent texture
sequences in which the texture pattern progressively changes both
temporally and spatially.

3 Overview

An overview of our system is illustrated in Fig. 2. From spatially
variant BRDF data captured from a weathered material sample at
a single instant in time, the appearance variations on the sample
are analyzed to obtain spatial and temporal appearance properties
useful for synthesis of weathering effects.

In this analysis, the course of weathering is assumed to produce
gradual monotonic transformations in appearance that exist at spa-

755

Sample Analysis

Appearance Synthesis

Annotated appearance 

manifold

Material sample

Appearance manifold

Weathering degree map

Time-variant degree map 

Time-variant appearance 

on surface

on surface

Figure 2: Overview of the appearance manifold technique. In sample analysis, we construct an appearance manifold from material data
captured at a single point in time, and with some simple user annotation, we infer the weathering degrees of each appearance state and
their spatial distribution. Appearance synthesis uses the information from sample analysis and an input time-variant degree distribution to
generate time-variant weathered appearance on a surface. For clarity, the 7D appearance space of reﬂectance attributes is shown here and in
the remainder of the paper in 3D (reduced from 7D by PCA).

tially varying degrees over the surface of the material sample, such
that the various states of per-pixel appearance form a manifold in
an appearance space. Typically this manifold exhibits a non-linear
structure. To obtain a good approximation of this underlying man-
ifold, we plot the captured BRDF data of each surface point in an
appearance space deﬁned by reﬂectance features, and construct a
neighborhood graph among these sample points, which we call an
appearance manifold. With some minor annotation by the user, our
method infers from the relative positions of points on the manifold
their relative degrees of weathering.

From the association of weathering degrees to appearance states,
two characteristics of the material’s time-variant appearance can be
derived. Since weathering degrees should be non-decreasing over
time, the determination of weathering degrees indicates valid tem-
poral progressions in the appearance of a surface point. Also, by as-
signing these weathering degrees to points on the material sample,
we obtain a weathering degree map that characterizes local distri-
butions of weathering degree variations for the given material and
weathering process.

With this analysis of the material sample, its weathered appear-
ance characteristics can be synthesized onto 3D models. The large-
scale temporal progression and spatial distribution of weathering
degrees on the model is ﬁrst obtained from existing visual simu-
lation techniques or user speciﬁcation. According to these time-
variant constraints, corresponding appearance variation details are
synthesized onto the surface using the appearance manifold and
weathering degree map.

4 Sample Analysis

With data captured from a weathered material sample, we form an
appearance manifold by constructing the neighborhood graph for
the BRDFs of surface points. From the appearance manifold, we
deduce the relative weathering degrees of the various per-pixel ap-
pearance states, and hence the valid temporal sequences of pixel
appearance. With this degree information, we also form a degree
map that represents spatial variations in weathering degree that are
present on the sample.

4.1 Appearance Manifolds

In constructing the neighborhood graph of a given material sam-
ple I(x, y), we organize the n-dimensional appearance attributes of
each pixel (x, y) into a vector, which is plotted as a point in a cor-
responding n-dimensional appearance space. In our current imple-

(a)

(b)

(c)

Figure 3: Appearance manifolds constructed from a rusted iron
sample.
(a) Diffuse image of the material sample, and the ini-
tial manifold. (b) Associated weathering degrees determined using
Isomap reduction to 1D, exhibited in both the appearance manifold
and the degree map. Two unweathered points (indicated by arrows)
with different BRDFs are mistakenly assigned to different weath-
ering degrees. (c) With user input, our technique assigns the same
weathering degree to these two points. The red (green) set in (b)
and (c) indicates the least (most) weathered points.

mentation, we captured a spatially-variant BRDF from ﬂat material
samples using a linear light source device as described in [Gardner
et al. 2003]. To the BRDF of each point we ﬁt parameters of the
isotropic Ward model [Ward 1992; Gardner et al. 2003], such that a
7D appearance space is formed for the material samples presented
in this paper.

Since sample points in the appearance space typically form a
dense distribution as exempliﬁed in Fig. 3(a), we utilize the ε-rule
and k-rule [Tenenbaum et al. 2000] to construct the neighborhood
graph. Speciﬁcally, an initial graph is formed using the k-rule,
which connects each point to its k nearest neighbors (k = 8 for all
examples in this paper). Outliers in the graph are then pruned using
the ε-rule, which allows connections only between points separated
by a distance less than a threshold ε. In our implementation, we set
ε = 1.5dp where dp is the average pairwise distance between con-
nected points after applying the k-rule. To compute dp, we ﬁrst
construct an appearance vector for each of the two points by sam-
pling its BRDF over a set of lighting and viewing directions. The
distance of the two samples is then computed as described in [Ma-
tusik et al. 2003] by the L2 distance of their appearance vectors in a
logarithm space.

From the structure of the resulting neighborhood graph, our

756

method infers an ordering of points with respect to weathering de-
gree. One possible approach is to perform dimensionality reduction
[Tenenbaum et al. 2000; Roweis and Saul 2000] to map the data into
a 1D curve that indicates relative degrees of weathering. However,
this mapping may be inﬂuenced by secondary appearance varia-
tions, such as from material non-uniformity and incidental weath-
ering processes, that are non-orthogonal to the principal mode of
weathering variation. Consequently, weathering degrees might not
be reliably determined in this manner. For example, although the
two points indicated in Fig. 3(b) exhibit no weathering, their ap-
pearance variations lead to different estimates of weathering degree
by dimensionality reduction.

To approximately factor out the effects of non-orthogonal sec-
ondary variations from weathering degrees, we take advantage of
user interaction to incorporate high-level knowledge into the anal-
ysis process. Speciﬁcally, the user assists our technique in identi-
fying the sets of most weathered and least weathered points in the
appearance manifold. The user is prompted to highlight pixels in
I(x, y) to form initial sets X ′
1 of least and most weathered points.
The set X ′

1 is then dilated according to

0, X ′

X1 = { xi | φ(xi, x′

0) > λ Φ(X ′

0, X ′

1) },

where the appearance distance φ(xi, x j) between points xi and x j is
deﬁned as their geodesic distance in the manifold (e.g., the short-
0, X ′
est path along the connected nodes between xi and x j), Φ(X ′
1)
denotes the minimum appearance distance between X ′
0 and X ′
1, x′
0
denotes the closest point in X0 to xi, and λ is a parameter set to
0.9 in our implementation. X1 is then made convex by including all
points that lie on geodesics between pairs of its points. A set X0 of
least weathered points is determined similarly.

Between these two sets, a gradual transition in appearance exists
from least weathered to most weathered. According to the relative
distances of a point x from the two sets, we deﬁne its degree of
weathering as a scalar function of appearance:

ϕ(x) =

φ(x, x′
0)
0) + φ(x, x′
1)

φ(x, x′

0 and x′

where x′
1 are respectively the closest points in X0 and X1 to
x. For all samples captured in our experiments, this approach pro-
duces more accurate weathering degrees. As exhibited in Fig. 3(c),
the same weathering degree is correctly determined for the two
indicated points using our approach. For a weathering process
that leads to complex appearance manifolds with signiﬁcant twist
and turns, a greater amount of user input may be needed to sepa-
rate weathering variations from appearance variations unrelated to
weathering.

With the assignment of degree values to points in the appear-
ance manifold, we can determine valid sequences of weathered ap-
pearance for a surface point. Since weathering degrees naturally
increase over time, the appearance of a point must follow a for-
ward path from a point x0 to xn that satisﬁes φ(xi+1) ≥ φ(xi) for
all neighboring pairs of points xi, xi+1 on the path. Our technique
utilizes validity of appearance sequences as a constraint in weath-
ered appearance synthesis. To generate a valid appearance sequence
between two points x0, xn, a straightforward way is simply to inter-
polate along the shortest path between them.

A manifold model of measured BRDFs was also constructed in
[Matusik et al. 2003], which employs non-linear dimensionality re-
duction to determine a low-dimensional characterization of high-
dimensional BRDF data sets. In our method, with the knowledge
that the primary variation of captured BRDFs from a material is
caused by weathering, we focus instead on deriving the non-linear
changes in the BRDFs of a given material with respect to weather-
ing degree. Additionally, spatially-variant BRDFs and their tempo-
ral variations are handled in our approach.

Input

source level map

L

target level maps 

L′

source texture sample 
D

and degree map

I

resulting texture sequence

I′

Figure 4: Overview of appearance synthesis. The input consists of
a sample texture I, its associated degree map D, its level map L,
and sequence of target weathering level maps L′. The result is a
time-variant appearance sequence I′.

4.2 Weathering Degree Maps

By replacing appearance values of the sample with degree values,
we obtain a weathering degree map as shown at the top of Fig. 3(c),
which displays spatial variations in weathering degree over the ma-
terial sample. Although the global distribution of weathering de-
grees in the degree map tends to be speciﬁc to the shape of the
material sample, for many materials the local variations are an in-
trinsic characteristic of its weathered appearance. These textures of
weathering degree often change over the course of time. As exem-
pliﬁed in Fig. 3(a), neighborhoods at different levels of weathering
may exhibit different spatial patterns, while local areas that have
similar weathering levels have textures that approximately follow
the same stationary stochastic model. In the following appearance
synthesis process, we account for these time-variant local weather-
ing characteristics of the material sample.

5 Appearance Synthesis

With the appearance manifold and computed degree map of a mate-
rial sample, our method synthesizes detailed weathering appearance
onto a 3D model according to a given large scale time-variant dis-
tribution of weathering degrees over the surface. This degree distri-
bution can be generated using existing visual simulation techniques
or by manual speciﬁcation.

To generate local weathering appearance on a 3D model labeled
with only large-scale degree variations, we identify pixels on the
model and on the material sample that have a similar local level of
weathering, computed by averaging the weathering degrees within
2N × 2N local neighborhoods in their corresponding degree maps,
where N is largest neighborhood size used in the texture synthesis
procedure. These average degree values are stored in structures
called weathering level maps. Local weathering appearance is then
synthesized onto the model in a manner consistent with weathering
level. The resulting appearance sequence should also adhere to two
temporal constraints. First, the time-variant appearance sequence
for each pixel p = (x, y) should follow a valid path in the appearance
manifold. Second, the spatial characteristics of appearance should
change smoothly over time.

A naive approach to appearance synthesis is to generate each
frame independently. However, generated appearance sequences
would exhibit ﬂickering due to a lack of frame-to-frame coherence.
Another possible solution is to synthesize the ﬁrst frame on the sur-
face and then extrapolate the appearance of each point along the
appearance manifold. Although this approach could generate a con-
sistent time sequence for each surface point, a convincing evolution
of texture patterns is unlikely to be obtained. The artifacts gener-

757

Input Sample

( pZ

′
)

pψ
pΨ

pψ′

p′Ψ

Initial values from 
preceding frame

Initial values with 

Improvement

(a)

(b)

(c)

Figure 5: Appearance synthesis for each frame. (a) Synthesis con-
ﬁguration. The unmasked (brown) region on the input sample tex-
ture (top) contains the set Z(p′) of candidates for p′ in a synthesized
frame (bottom). (b) Initial values extrapolated from the preceding
frame (top), and the resulting synthesis result (bottom), which con-
tains undesirable repetition of texture patterns. (c) Improvement of
initial values by considering neighborhood information on the sam-
ple (top), and the resulting synthesis result (bottom).

ated by these two straightforward approaches are exempliﬁed in the
supplemental video.

In this paper, we propose a multi-scale texture synthesis tech-
nique to generate a time-variant appearance sequence from input
samples. For simplicity, we describe only our synthesis algorithm
for an image appearance sequence, which can then be easily modi-
ﬁed to synthesize a time-variant appearance sequence on a surface.
As illustrated in Fig. 4, for a given input sample texture I(p), its
associated degree map D(p), and its level map L(p), we synthesize
a time-variant appearance sequence I′(p′,ti), i = 0, 1, 2.., n, whose
local textures are consistent with the sequence of weathering level
maps L′(p′,ti) computed from the given large-scale time-variant de-
gree distribution.

In our algorithm, the appearance sequence is synthesized frame
by frame. For each frame, the synthesis is executed in three steps.
We ﬁrst initialize the appearance of each frame from the appearance
of the preceding frame. Speciﬁcally, we initialize the degree values
of each frame by extrapolating those of the preceding frame accord-
ing to D′(p′,ti) = D′(p′,ti−1)+L′(p′,ti)−L′(p′,ti−1) for each pixel
p′ in the frame. To determine an initial appearance for the frame,
we then interpolate according to these initial degree values along
the shortest path in the appearance manifold between points for
I′(p′,ti−1) and the set X1 of most weathered points. Although this
initialization produces valid temporal sequences of weathered ap-
pearance for each pixel, it does not account for progressive texture
variations from frame to frame. Without these progressive changes
in local degree distributions, the quality of matches in the synthesis
process becomes poor, and this may result in a repetition of texture
patterns as illustrated in Fig. 5(b).

To avoid this problem, we incorporate the information from in-
put samples to obtain an improved initialization in the second step.
As illustrated in Fig. 5(a), let Ψp and ψp respectively represent an
N × N neighborhood and an m × m sub-neighborhood centered on
p, where m = N/3 in our implementation. We divide the frame into
a set of m × m patches, and we denote as P′ the centers of all these
non-overlapping patches. For each p′ ∈ P′, we average the appear-
ance values in neighborhood ψp′ with those in ψp of a randomly
selected pixel p from a candidate set

Z(p′) = {p : |L(p) − L′(p′,ti)| ≤ κ},

where κ = 0.15 in our implementation. With this approach,
changes in texture characteristics over time can effectively be incor-

porated. For the ﬁrst frame in the sequence, which cannot be extrap-
olated from others, we initialize its values I′(p′,t0) and D′(p′,t0)
based on random patches ψp from candidate sets Z(p′).

Finally, the initial appearance frame is reﬁned by synthesis with
multiple neighborhood scales. For each scale, our algorithm tra-
verses all pixels in P′ and synthesizes an m×m patch for each pixel.
Speciﬁcally, for each p′ ∈ P′, we construct its candidate set Z(p′)
and then search for the pixel p in I whose patch Ψp best matches
Ψp′ in the L2-norm. For the search result Ψp, we copy q ∈ ψp to
q′ ∈ ψp′ if it is temporally coherent, i.e., the degree value of q is
greater than or equal to that of q′ in the preceding frame. Other-
wise, the appearance and degree values of q′ are kept unchanged.
This procedure is repeated for successively smaller sizes of Ψp un-
til N is decreased to 3. Fig. 5(c) displays the ﬁnal synthesis result
reﬁned from the improved initial values.

In practice, frame-by-frame synthesis of the appearance se-
quence is time-consuming and not necessary because of the small
changes in appearance and degree between the two adjacent frames.
For greater efﬁciency, we synthesize selected key frames from the
sequence and interpolate intermediate frames. With the ﬁrst frame
as a key frame k0, we select successive key frames according to
{ki | maxp′ (L′(p′, ki) − L′(p′, ki−1)) > ε}, where ε is set to 0.2 in
our implementation. The appearance of each pixel in an intermedi-
ate frame is interpolated along the shortest path in the appearance
manifold between the corresponding pixels in the preceding and
subsequent key frames.

6 Other Applications

With the association of weathering degrees to appearance vectors,
other weathering applications become easy to formulate. We de-
scribe techniques for weathering and deweathering the appearance
of a real object, and for material transfer from one object to another
with weathering effects.

6.1 Weathering and Deweathering

In weathering and deweathering of an input weathered object, sam-
ple analysis is ﬁrst performed to obtain the object’s degree map,
which is then used to generate a time-variant degree sequence with
some user assistance. To aid the user in this process, we present a
tool shown in Fig. 6 for easy editing of a default degree sequence
with interactively updated appearance sequences displayed as feed-
back.

In the default degree sequence, the user can select key frames for
degree modiﬁcation. With the user tool, the degree values d in a key
frame can be transformed to new values d′ by adjusting a mapping
function d′ = f (d). Additionally, the tool allows the user to hand-
paint degree modiﬁcations in a key frame. As the user applies these
alterations, the degree values in non-key frames are interpolated
among key frames. To efﬁciently update the appearance sequence
after each degree sequence revision, our tool simply warps the ap-
pearance sequence of each pixel in correspondence with its change
in degree. After the user has fully completed adjusting the degree
sequence, the original appearance synthesis procedure is applied
again to obtain a more reﬁned appearance sequence.

In our current implementation, the default degree sequence is
computed by placing the object’s degree map at the center of the
sequence and linearly increasing (decreasing) the degree values in
weathering (deweathering) frames until all degree values reach 1.0
(0.0). A corresponding default appearance sequence is then com-
puted using the appearance synthesis algorithm in Sec. 5. The input
appearance of the object is used as the initial appearance frame from
which the rest of the default sequence is synthesized into the future
and the past.

758

ple at different weathering levels. In the supplemental video, we
also demonstrate with this model the appearance differences be-
tween linear texture blending and our non-linear appearance man-
ifold technique. Linear blending is seen to produce appearances
that diverge considerably from rusting iron, such as rust colors with
signiﬁcant specularity.

Three bananas at different states of weathering are exhibited in
Fig. 7, where their appearances are all synthesized using the mate-
rial sample shown in (a). In this example, the initial degree map on
the rendered bananas is speciﬁed by an artist, and then the weath-
ering/deweathering procedure is used to generate the weathering
sequence. The appearance of spatial variations and their evolution
over time are synthesized onto the new objects to produce convinc-
ing results.

Fig. 8(a) shows an image of a leaf sample and its degree map. We
demonstrate weathering on only the foremost leaf. The other leaves
were designed by an artist using conventional texture mapping. In
this example, we also captured the translucency of each point on
the sample. Using our weathering and deweathering system, we
generate an appearance sequence from the original sample, shown
for three time instants in Fig. 8(b-d). In the supplemental video,
the translucency of the leaf is seen to vary with greater weathering,
while the specularity of the leaf gradually lessens. This sequence
was generated based on user speciﬁcation of six key frames.

Fig. 9 displays a buddha model scanned from a real object with
textures generated using the texture montage technique [Zhou et al.
2005]. To compute its weathering degree map shown in the upper-
left corner of Fig. 9(a), we analyzed the diffuse color of the buddha
under ambient lighting, which clearly reveals variations of tarnish
on the surface. Based on this analysis, our method for weathering
transfer generates renderings of the buddha in Fig. 9(b-d) that are
consistent with the weathering degrees of the original model, but
utilizes different weathered materials.

An interesting application of the appearance manifold technique
is weathering and deweathering of an object shown in a single im-
age. In this application, we ﬁrst segment out the object of interest
and then perform sample analysis on it. To minimize the effects
of intensity variations due to shading, we convert pixel colors into
Lαβ space and then use only the αβ channels for analysis. To each
degree value d, we associate the average luminance Ld of all pix-
els of the same degree. Shading variations in the image are then
approximately separated from weathering and stored in a illumi-
nation map L′(x, y) = L(x, y)/Ld(x,y), where L(x, y) is the original
luminance of the pixel and d(x, y) denotes the pixel degree. After
generating a new degree map as described in Sec. 5, we obtain the
weathered/deweathered color for each pixel by interpolating along
the shortest path from its point in the appearance manifold to the
most/least weathered point sets. The ﬁnal result is obtained by mul-
tiplying the illumination map with the weathering color image, as
displayed in Fig. 10. Non-weathering variations such as from sharp
specularities and texture may reduce the performance of this basic
method, but could potentially be addressed by further image anal-
ysis. Since the input is just a single image, this application targets
weathering effects that primarily alter only color appearance fea-
tures.

8 Discussion and Conclusion

The proposed appearance manifold technique generates weathering
sequences that are consistent with the changing local reﬂectance
characteristics of a material over time. It complements existing vi-
sual simulation techniques that are designed to compute weathering
degree distributions, and leads to various weathering applications
for synthetic 3D models, real weathered objects, and even single
snapshots of weathered objects. With this method, the input data

Figure 6: GUI for weathering and deweathering. Degree values are
transformed according to a user-adjustable function. Also, modiﬁ-
cations of degree values can be speciﬁed in the image by hand.

6.2 Weathering Transfer

Another image-based application is to render a weathered object
O1 with a different material of another weathered object O2. With
user assistance, our technique achieves this by performing sample
analysis on the two objects to determine their weathering charac-
teristics, and then synthesizing the appearance of O2 onto O1 in
a manner consistent with O1’s shape-dependent weathering degree
distribution. This synthesis proceeds as in the method described in
Sec. 5, except that appearance attributes from O2 are synthesized to
the degree map of O1.

The time-variant appearance of O1 can also be synthesized with
the material of O2 by extrapolating O1’s degree map into a degree
sequence using the techniques presented in Sec. 6.1. With this
degree sequence, the appearance manifold and degree map of O2
can then be used to synthesize an appearance sequence using the
method in Sec. 5.

7 Results

We implemented the appearance manifold system on a PC
with a Pentium IV 2.8GHZ CPU, 2GB memory, and a Nvidia
Geforce7800 256MB graphics card. Sample resolutions and the
largest window sizes used in appearance synthesis are given in Ta-
ble 1 for the presented examples. For computational efﬁciency, the
appearance manifold is constructed using 10,000 sampled pixels
with distinct appearance vectors, and the weathering degree values
of all other pixels are copied from the nearest sample point in the
appearance space. We adapted the algorithm in [Kautz et al. 2000]
to render time-variant appearances of objects with global illumi-
nation. For the examples in this paper, sample analysis requires
approximately ﬁve minutes, and appearance synthesis times range
from one to ﬁve hours. Rendering is performed at about 20 Hz.

Fig. 1 displays a rusting gargoyle rendered with global illumina-
tion. The global distribution of the rust and its temporal variations
are simulated by γ-ton tracing [Chen et al. 2005]. The characteris-
tics of the local rust patterns on the gargoyle change with time in
consistency with the different neighborhoods in the original sam-

Sample
Width
Height

Window size

Rust
269
361
32

Banana

540
499
22

Leaf
970
712
5

Patina Wood
640
1010
480
750
26
22

Stone
800
498
32

Table 1: Sample resolutions and largest window sizes for synthesis.

759

is simple to acquire, and natural non-linear appearance variations
over time are easy to produce.

Since reorganization of appearance data into an appearance man-
ifold determines only a sequential relationship among the observed
weathered appearances, rather than correspondences to actual de-
grees of weathering, the simulations of weathering effects are not
physically precise. The intent of our method, however, is to gener-
ate visually compelling weathered appearance from a small amount
of easily captured image data.

To effectively analyze a material sample with this technique,
the underlying weathering process should produce smooth tempo-
ral variations in appearance. In cases where weathering produces
sharp changes in reﬂectance or signiﬁcantly alters surface geome-
try, such as from cracking or peeling, the resulting discontinuities
in the appearance manifold may impair the inference of weather-
ing degrees. Since weathering degrees are assigned with respect to
a primary mode of appearance variation, our method also cannot
handle variations caused by multiple weathering effects, or materi-
als with signiﬁcant intrinsic variations.

Although input data from only a single material sample and time
instant is needed, appearance manifold analysis can also jointly
handle data from multiple samples and instants in time, as long as
the data all represents the same weathering process of the same ma-
terial. Without the need for surface point correspondences, BRDFs
can be recorded at different times without image registration. This
property is particularly useful in broadening the range of modeled
weathering effects. For example, sample analysis for the banana
in Fig. 7 was performed using two bananas at different stages of
ripening.

In the future, we plan to extend appearance manifolds to in-
clude additional forms of weathering effects. Through an analy-
sis of captured BTF data, local geometry variations from weather-
ing may potentially be incorporated into our weathering appearance
framework. In addition, identifying and modeling multiple types of
weathering that jointly alter the appearance of a material is an inter-
esting direction for investigation. Aside from expanding the mod-
eling capabilities of our system, we also intend to examine ways to
accelerate rendering of time-variant appearance.

Acknowledgements

The scenes in Fig. 7 and Fig. 8 were modeled by Rui Jin and Yuan
Tian. The grille image in Fig. 10 was copied from MaYang’s tex-
ture library (http://www.mayang.com/textures). The authors thank
Kun Zhou and Dong Xu for discussions on manifold learning, and
the anonymous reviewers for their helpful suggestions and com-
ments. Minghao Pan and Hujun Bao were supported in part by
The National Basic Research Program of China (973 Program) un-
der Grant No. 2002CB312102, the Natural Science Foundation of
China under Grant No. 60021201, and The Cultivation Fund of the
Key Scientiﬁc and Technical Innovation Project, Ministry of Edu-
cation of China, under Grant No. 705027.

References

BADLER, N. I., AND BECKET, W. 1990. Imperfection for realistic image synthesis.

J. Visualization and Computer Animation 1 (Aug), 26–32.

BLINN, J. F. 1982. Light reﬂection functions for simulation of clouds and dusty

surfaces. In SIGGRAPH ’82, 21–29.

BOSCH, C., PUEYO, X., MERILLOU, S., AND GHAZANFARPOUR, D. 2004. A
physically-based model for rendering realistic scratches. Computer Graphics Fo-
rum 23, 3, 361–370.

CHEN, Y., XIA, L., WONG, T.-T., TONG, X., BAO, H., GUO, B., AND SHUM, H.-
Y. 2005. Visual simulation of weathering by γ-ton tracing. ACM Trans. Graph.
24, 3, 1127–1133.

COOK, R. L. 1984. Shade trees. In SIGGRAPH ’84, 223–231.

DESBENOIT, B., GALIN, E., AND AKKOUCHE, S. 2004. Simulating and modeling

lichen growth. Computer Graphics Forum 23, 3, 341–350.

DORSEY, J., AND HANRAHAN, P. 1996. Modeling and rendering of metallic patinas.

In SIGGRAPH ’96, 387–396.

DORSEY, J., PEDERSEN, H. K., AND HANRAHAN, P. 1996. Flow and changes in

appearance. In SIGGRAPH ’96, 411–420.

DORSEY, J., EDELMAN, A., JENSEN, H. W., LEGAKIS, J., AND PEDERSEN, H. K.

1999. Modeling and rendering of weathered stone. In SIGGRAPH ’99, 225–234.

ENRIQUE, S., KOUDELKA, M., BELHUMEUR, P., DORSEY, J., NAYAR, S., AND
RAMAMOORTHI, R. 2005. Time-varying textures. Tech. Rep. CUCS-023-05,
Columbia University.

GARDNER, A., TCHOU, C., HAWKINS, T., AND DEBEVEC, P. 2003. Linear light

source reﬂectometry. ACM Trans. Graph. 22, 3, 749–758.

GEORGHIADES, A. S., LU, J., XU, C., DORSEY, J., AND RUSHMEIER, H. 2005.

Observing and transferring material histories. Tech. Rep. 1329, Yale University.

GU, J., TU, C.-I., RAMAMOORTHI, R., BELHUMEUR, P., MATUSIK, W., AND NA-
YAR, S. 2006. Time-varying surface appearance: Acquisition, modeling and ren-
dering. ACM Trans. Graph. 25, 3.

HSU, S.-C., AND WONG, T.-T. 1995. Simulating dust accumulation. IEEE Comput.

Graph. Appl. 15, 1, 18–22.

JENSEN, H. W., LEGAKIS, J., AND DORSEY, J. 1999. Rendering of wet materials.

In Rendering Techniques 99, 273–282.

KAUTZ, J., V ´AZQUEZ, P.-P., HEIDRICH, W., AND SEIDEL, H.-P. 2000. Uniﬁed
approach to preﬁltered environment maps. In Rendering Techniques 2000, 185–
196.

KWATRA, V., ESSA, I., BOBICK, A., AND KWATRA, N. 2005. Texture optimization

for example-based synthesis. ACM Trans. Graph. 24, 3 (July), 795–802.

LEFEBVRE, S., AND HOPPE, H. 2005. Parallel controllable texture synthesis. ACM

Trans. Graph. 24, 3 (July), 777–786.

LU, J., GEORGHIADES, A. S., DORSEY, J., RUSHMEIER, H., AND XU, C. 2005.
Synthesis of material drying history: Phenomenon modeling, transferring and ren-
dering. Euro. Workshop Nat. Phenomena.

MATUSIK, W., PFISTER, H., BRAND, M., AND MCMILLAN, L. 2003. A data-driven

reﬂectance model. ACM Trans. Graph. 22, 3, 759–769.

MATUSIK, W., ZWICKER, M., AND DURAND, F. 2005. Texture design using a

simplicial complex of morphable textures. ACM Trans. Graph. 24, 3, 787–794.

MERILLOU, S., DISCHLER, J.-M., AND GHAZANFARPOUR, D. 2001. Corrosion:

simulating and rendering. In Graphics Interface 2001, 167–174.

MILLER, G. 1994. Efﬁcient algorithms for local and global accessibility shading. In

SIGGRAPH ’94, 319–326.

MUSGRAVE, F. K., PEACHEY, D., PERLIN, K., AND WORLEY, S. 1994. Texturing
and modeling: a procedural approach. Academic Press Professional, Inc., San
Diego, CA, USA.

NAKAMAE, E., KANEDA, K., OKAMOTO, T., AND NISHITA, T. 1990. A lighting

model aiming at drive simulators. In SIGGRAPH ’90, 395–404.

PAQUETTE, E., POULIN, P., AND DRETTAKIS, G. 2002. The simulation of paint

cracking and peeling. In Graphics Interface 2002, 59–68.

ROWEIS, S., AND SAUL, L. 2000. Nonlinear dimensionality reduction by locally

linear embedding. Science 290, 5500 (Dec), 2323–2326.

TENENBAUM, J. B., DE SILVA, V., AND LANGFORD, J. C. 2000. A global geometric
framework for nonlinear dimensionality reduction. Science 290, 5500 (Dec), 2319–
2322.

TURK, G. 1991. Generating textures on arbitrary surfaces using reaction-diffusion. In

SIGGRAPH ’91, 289–298.

WARD, G. J. 1992. Measuring and modeling anisotropic reﬂection. In SIGGRAPH

WITKIN, A., AND KASS, M. 1991. Reaction-diffusion textures. In SIGGRAPH ’91,

’92, 265–272.

299–308.

WONG, T.-T., NG, W.-Y., AND HENG, P.-A. 1997. A geometry dependent tex-
ture generation framework for simulating surface imperfections. Euro. Workshop
Rendering, 139–150.

ZHANG, J., ZHOU, K., VELHO, L., GUO, B., AND SHUM, H.-Y. 2003. Synthesis
of progressively-variant textures on arbitrary surfaces. ACM Trans. Graph. 22, 3
(July), 295–302.

ZHOU, K., WANG, X., TONG, Y., DESBRUN, M., GUO, B., AND SHUM, H.-Y.
2005. Texturemontage: Seamless texturing of arbitrary surfaces from multiple im-
ages. ACM Trans. Graph. 24, 3, 1148–1155.

760

(a)

(b)

(c)

(d)

Figure 7: Three bananas at different stages of weathering. (a) The original sample and its degree map after analysis. (b)(c)(d) Rendering
results of bananas under global illumination. The most weathered banana at the bottom is kept constant for reference.

(a)

(b)

(c)

(d)

Figure 8: A leaf at different stages of weathering. The weathering process is simulated by our weathering and deweathering process. (a) The
original sample and its degree map after analysis. (b) Rendering result of the leaf after deweathering. (c) Rendering result of the leaf after
less deweathering. (d) Rendering result of the leaf after weathering.

(a)

(b)

(c)

(d)

Figure 9: Rendering results of a Buddha with different material. (a) The original material, with the degree map shown in the upper-left. (b)
With transferred brass and patina effects. (c) With transferred stone and weathering effects. (d) With transferred wood and weathering effects.

Figure 10: Image weathering and deweathering. (a) Original images. (b) Result of deweathering. (c) Result of weathering. (d) Illumination
maps.

761

