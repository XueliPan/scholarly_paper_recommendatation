mine user behavior use new york university n stern school business west street suite new york research ave new york research ave new york abstract consider ad campaign run advertiser ad serve company handle campaign record behavior lead campaign well summarize report help evaluate performance campaign make better budget allocation popular report statistics rate conversion rate indicative effectiveness ad campaign often seek understand sophisticate effect brand awareness user behavior lead conversion thus create need report measure capture duration frequency user paper propose alternative data mine framework analyze advertise data aggregation step compress individual user graph structure call represent local ad report step introduce several score rule call capture global role ad particular structural correlation ad impression user conversion present scalable local compute implement use program model framework use anonymous sponsor search campaign eight different evaluate framework different term statistical fit data show value mine behavioral pattern advertise data subject information miscellaneous social behavioral economics general term performance measurement economics copyright hold international world wide web conference committee distribution paper limit classroom use personal use north sponsor search ad auction advertise user behavior model rate conversion rate one introduction become major advertise medium although number different factor contribute distinguish advertise advertise inherently interactive nature measure effectiveness particular advertise campaign allocate advertise budget still remain challenge task yet make task easier connect ad one tangible user action pose search query click ad convert two simplicity measure attribute user click establish rate three current standard ad quality sponsor search customary define advertiser optimization problem maximization expect number ad click give certain budget constraint thirteen ten conversion rate define similarly probability user conversion another popular ad effectiveness measure together frequently use measure return investment specific advertise campaign recent empirical study show effect fully capture particular sponsor search advertise well display advertise number indirect effect build brand awareness eighteen instance lewis twenty yahoo major retailer perform randomize control experiment measure effect advertise find advertise campaign substantial impact click also merely view another study eight report incremental lift simply act show ad page view user define may represent wide range user buy item simply spend suitable amount time advertiser rate define fraction time ad click show full initial exposure ad well lift important brand site visitation search seek understand impact ad immediate click conversion likelihood eventual conversion long term long term effect take specific term search query pose browse affect sequence see conversely sequence see affect search browse behavior interdependence result structural pattern behavior need new tool beyond simple aggregate like understand systematic ways help reason structural data paper take data mine approach start data directly pertinent advertiser campaign user involve campaign advertiser include ad click data usually report advertiser provide aggregate appropriately next build data mine framework help identify structural pattern data follow propose graphical model base approach formulate graph data call capture adjacent introduce variety every score rule nod design capture impact ad nod eventual conversion example introduce base random walk every event calculate long term probability certain random walk involve event would eventually lead conversion paper present highly efficient construct compute introduce implement use eleven parallel program model use data sponsor search campaign eight different study various validate model show statistical fit data also show interest empirical provide user behavior respect brand moreover show various natural data mine query maybe independent interest finally use show efficiently prune localize depict influence particular ad small neighborhood ad graph approach work transform graph achieve pool data different result lose information specific encode aggregate information also way pool data base adjacent encode certain independence assumption user behavior multiple edge carefully study statistical fit model data ensure assumption reasonable pool way also result compression large sponsor search number different query advertiser match often number view millions contrast manageable size approach generalize different paper apply study user sponsor search data equally use study sponsor search lead click sponsor search display ad data available two relate work empirical study show sponsor search advertise well display advertise number indirect effect build brand awareness lift eighteen twenty prior research attempt measure impact ad user conversion number independent ad conversion event five work substantial generalization prior research apply advance measure analyze user conversion importantly introduce generic base framework reason structural mine pattern user behavior novel idea market basket analysis use association rule mine two popular tool use discover actionable business intelligence user level transaction data user behavior data numerous include limit improve web search rank one fraud detection twelve personalization user search experience paper mine user behavior perspective advertiser run sponsor search campaign several standard mine apply advertise data mine frequent two frequent sequence user action however capture structural data impact multiple work capture different approach attempt capture structural mine frequent graph data sixteen due data pool graph construction pattern identify may may high support pattern may combine behavior multiple also interest simply frequent pattern pattern indicate high likelihood designate action user conversion approach use steady state different random walk capture structural differ prior graph mine approach widely use include web search four personalize video six user communication graph nine research closely relate problem model user search sessions wide number propose literature include advance latent state model seven model take account transition time user action fourteen intentionally refrain use complex generative model underlie data due several reason first generative model often require individual user sessions train due privacy reason full usually access aggregate level data second generally access information user action advertiser ad show even aggregate level finally pattern user behavior extract data must easy communicate represent ideally graphical form often true generative statistical model three sample cover eight different anonymous run sponsor search campaign collect user level include information random sample convert advertiser within certain time period several activity every user track thus user delete later identify different user every anonymous user data information action user conversion define action either search query issue advertiser ad show pay search result click advertiser ad rest paper refer first action type impression event result advertiser ad impression second action type click event emphasize search query advertiser ad show irrelevant search query query advertiser bid low query advertiser exclude auction due daily budget constraint include data might available form search engine report due several privacy issue therefore intentionally refrain include input data mine process apply ad position information sponsor search auction observe ad placement individual query basis information assume available every event include event search query issue user match type exact broad four number data point convert vary approximately click advertiser million million click advertiser five number different user query data vary approximately advertiser advertiser special event user conversion user report therefore exact definition constitute conversion event practice vary visit particular web site page register make expensive purchase use term conversion path represent order sequence single user end conversion finally also include data expose least one ad impression advertiser search support broad match functionality allow imprecise match query issue user advertiser bid ten high rate imply number due fact describe sample eventually convert advertiser figure one distance conversion convert within monitor time period number yet much number convert sample pool randomly sample probability one descriptive statistics ensure anonymity report descriptive statistics table instead present two plot illustrate interest data first ask long many search take user convert advertiser assume user eventually convert exact value statistics depend average data across different figure one show histogram distance conversion randomly select event sample convert distance define number future ad advertiser include current impression user get conversion data plot slightly distort small multiplicative random factor every advertiser preserve advertiser anonymity distortion affect main message plot one third case user convert convert immediately observe impression however fraction match advertiser least one time convert moreover distribution heavy tail ten user match advertiser least ten search eventually convert plot also show lot variation across therefore estimate distance conversion limit outside sample would expect generalize observation interaction advertiser user far complex simple search click convert scenario many expose advertiser ad multiple time eventually convert finally figure two present plot show number different path type certain length conversion data path type define equivalence class conversion identical omit furthermore normalize value number different path type length one essentially number different user query observe conversion data order understand plot better one think two extreme case data generate process first scenario data generate process sample new ie query user issue affect query user use later set number different path type length k assume large sample size grow full model simple forward backward one two three model simple forward backward stab stab mae zero zero table one model stability sample two one two three table two model fitness sample model user assume two different possible search regime represent regular browse behavior interest regime represent behavior user interest particular advertiser thus every user query two different nod one search regime one interest regime user always start search regime switch interest regime always stay consider three possible signal user switch regime click advertiser ad one use advertiser brand name search query two combination three evaluate seven model term several criteria average stability sample variance edge weight construct graph parameter estimate model fitness sample stability score calculate two form average across edge root mean square error mean absolute error mae edge weight estimate five sample split data table one show exception model edge weight estimate quite volatile due fact limit number many node pair six next section show fact problem stability correspond next present fitness result model table two report statistical model fit data measure information criterion information criterion three also report sample fit fivefold nineteen use fitness criteria expect model show worst fit far best fit model accord three criteria backward model indicate distribution query issue user vary significantly distance conversion event regime switch model fit slightly better simple model five ad factor section define evaluate number capture structural conversion path data calculate directly graph structure define previous section instance calculate model stable provide bad fit data show table two another example classic figure two number different length k number different length one exponentially respect number possible user query often order even large advertiser clearly behavior see figure two even take account finite size sample formally test model next section hand perfect correlation user search would imply flat plot also case sample variation across would expect follow observation generalize strong structural user search single conversion path four generative model section formally define evaluate set generative statistical model conversion path data first model evaluate simple model every new event conversion path sample independently everything happen number model equal number different user query minus one model evaluate represent user behavior random walk direct graph make model differ way construct construction involve define set graph nod v define set graph edge e define edge weight represent transition nod j definition nod construct three special nod begin node represent start conversion nonconversion path user conversion node represent conversion event null node represent state convert within observation period null node always absorb node conversion node always lead null node begin node incoming edge simple simple every graph node event impression click edge weight observe two consecutively conversion path also consider forward backward incorporate distance first user observation distance last user observation part node id thus allow next event sample depend many user observe far forward many go observe user convert backward regime switch also consider three additional regime switch three full well regime switch present several alternative evaluate actual data calculate every node informally think measure structural correlation node target node conversion node would simple edge weight pair nod would capture simple correlation pair consecutive often get ad impression particular query click rate often click ad convert advertiser conversion rate sophisticate define expect capture structural number disjoint event conversion higher also closer higher three important point make first expect useful show paper useful rank report purpose attach causal mean value capture even true currently use model ad performance conversion rate conversion rate say fraction convert advertiser click ad fraction convert advertiser ad would convert anyway even ad show convert immediately may convert later ad establish causation would require run actual experiment least good exogenous source randomness data beyond scope paper second measure quality go say one always better another say rest paper structural data different able capture third order practically useful efficiently computable data set address issue design efficient introduce paper use distribute computation paradigm fact one directly use local algorithm develop al four rest present suitable algorithm represent conversion rate correspond ad measure weight direct edge correspond node conversion node formally event e either simple ad impression ad click e number e conversion number e contribution contribution define personalize contribution evaluate node v conversion node c v c give formal definition assume restart probability zero graph give n n random walk matrix j let identity matrix row unit vector whose entry equal one k p personalize matrix define n n matrix solution follow equation one fix node v row matrix satisfy v one v know personalize vector node v restart probability introduce fifteen stationary distribution random walk graph probability restart node v step dual construct vector obtain take single column matrix column correspond conversion node c consist different nod v fix conversion node c write row form solve follow equation c one c contribution vector denote c four vector naturally capture important structural graph number different every node v conversion node c well nice property sum node c equal node c think way divide score capture total credit conversion node graph nod moreover vary restart probability random walk use effect higher restart probability score capture contribution ad compare one eventual conversion eventual conversion limit case restart probability converge zero follow proposition say normalization equivalent probability hit conversion node oppose hit null node random walk restart denote hit c proposition one let random walk matrix null node exclude assume matrix invertible identity matrix seven define hit vector hit c row vector solve follow equation hit c hit c lim zero c lim zero c hit c sufficient necessary condition every node except null node small probability transition null reasonable assumption application user always drop positive probability full visit comparison purpose define visit represent random walk restart visit probability node begin node relate conversion node simply capture likelihood event happen user conversion path formally define row vector hit b solve hit b hit b similar one one show lim zero b hit b marginal increase introduce mi j represent marginal increase probability hit conversion begin node b increase weight edge outgo node j allocate proportion current edge weight first compute mi j context personalize restart probability let b c marginal influence edge weight begin node conversion node mi j follow summation note sensitivity respect outgo edge weight proportionally current edge weight mi j x b c first observe set random walk compute use follow restart b c proposition proposition two marginal influence edge weight sink c restart source node b give product start node edge restart source node b sink node c restart end node edge j b c one b j c use proposition derive simple mi j proposition three marginal effect increase weight outgo edge node j mi j equal mi j b j j c one proof leave appendix advantage formula let us us apply fast compute mi proposition also imply tend zero mi compute follow proposition four marginal effect increase weight outgo edge node j hit probability conversion mi j equal mi j lim zero mi j hit b j hit j c two table three correlation matrix five visit pass visit pass observation imply mi change hit b c remove node j graph redirect incoming edge node null node formally pass hit b hit c call correspond pass since capture value random walk pass evaluate node removal effect part introduce node define change probability hit conversion start begin node b remove node graph intuitively capture change probability reach conversion remove node incoming edge node similar mi define context random walk restart probability x b c j use proposition two derive similar formula show equal pass proposition five put follow b c three hit b hit c lim zero four proof leave appendix pass proxy mi ie mi pass result report empirical result pass imply result mi efficient computational efficiency crucial successful application data mine algorithm real world advertise data fortunately introduce previous section efficiently compute large scale graph use parallel machine key observation contribution c efficiently compute use local algorithm adaptively examine small portion input graph near specify vertex four implement algorithm four distribute compute environment eleven use framework framework every node graph perform local computation nod interact periodic exchange message computation achieve simple local algorithm algorithm one every node state consist two currently accumulate residual value obtain full nod yet distribute nod run simple operation push fraction residual neighbor incoming edge value residual node exceed al four prove follow theorem one four follow algorithm calculate approximation contribution vector one conversion node ie moreover use algorithm one identify top k nod maximum contribution use k c use one algorithm one local algorithm calculate c conversion node c zero one conversion node otherwise zero main loop end accumulate fraction current residual every incoming edge w w w one current residual neighbor dout w distribute one fraction end zero use proposition three five one see calculation mi pass require estimate contribution vector conversion ie c value every node graph personalize vector begin node b value every node graph approximation contribution vector calculate efficiently use algorithm one moreover similar algorithm develop seventeen use calculation approximation vector begin node use proposition three four five multiply two get follow theorem theorem two exist local approximation push compute mi use one moreover approximation pass mi compute use one wi null six empirical section present interest empirical experiment do simple graph except explicitly specify otherwise primary reason choose simple model simplify interpretation result similar experiment perform result interpretation would different every particular model use table three present different data expect sufficiently small value restart probability five contribution highly correlate eventual conversion hit c also table four stability top nod mean fourteen visit pass mean five seven fifteen much lower correlation factor last ad visit almost uncorrelated eventual conversion last ad indicate user query occur frequently necessarily well connect conversion event since incorporate visit also weakly correlate rest statistically one level table four show stability result sample standard deviation top graph nod fivefold sample split one see standard relatively low compare mean value suggest important nod graph relatively stable presence sample variance even though edge weight graph volatile table one rest section evaluate correlate node attribute eight match note three case evaluate attribute binary variable thus instead present simple one deliver better intuition use roc curve correspond classifier consider instance figure three every one construct classifier node use decision rule threshold brand depend one better otherwise brand vary value one achieve different precision recall point point constitute roc curve figure three show excellent predictor even last ad score time click conversion pass give best predictor brand although extremely weak predictor suggest search brand query naturally much likely convert advertiser search generic query thus measure structural correlation conversion event good signal brand nature user query yet user click advertiser ad signal lose value ad attract enough user attention query trigger ad first place become much less important good predictive power pass click impression suggest likely convert advertiser click brand query ad rather click query ad however convert get equal exposure brand convert mark brand include phrase edit distance three advertiser name brand name mark otherwise result manually inspect ensure map reasonable full figure three roc curve brand prediction click top bottom figure four roc curve click prediction brand query top query bottom figure four show brand query last ad excellent signal click attribute query predict well recall approximately six curve become flat eventual jump weird behavior attribute fact observe number rare generic specific query click ad lead conversion emphasize query rare therefore use pass filter pass show excellent predictive power query figure four next compare last ad use difference ad rank model predictor figure five roc curve rank last ad rank predictor figure six behavior function distance conversion figure seven roc curve brand prediction different model attribute result figure five suggest difference good predictor brand attribute manual inspection show rank brand nod even higher last ad hand roc curve click phrase broad exact match prediction close diagonal suggest systematic difference rank match nod next plot behavior function distance conversion figure six figure construct use data backward model every user query represent multiple nod graph depend distance conversion node thus every query q one calculate log q distance c log q distance one c nine figure six show average result different group note click value distance two conversion significantly smaller value distance one suggest user click ad convert immediately likelihood convert future go consistent prior behavior brand click similar hand grow least decrease distance conversion indicate exposure advertiser ad query positive correlation likelihood user convert brand decrease distance conversion although strongly click suggest user search brand convert soon enough likelihood convert future go finally figure seven investigate different graph structure affect relationship brand attribute node consider three model simple backward one log representation primarily choose reduce sensitivity full simple model simply plot roc curve use predictor brand backward model use observation figure six brand nod decay distance conversion nod grow distance conversion thus use ten x log q distance c log q distance one c predictor one model would expect similar behavior hold brand nod search state user click lower interest state user click ad nod interest state higher search state thus construct predictor log q search state c log q interest state c figure seven show one model best predictive power brand attribute confirm intuition user click different value brand seven data mine tool produce intuitive concise report huge amount data desire goal section discuss various data mine tool develop use ad factor define graph model introduce paper identify top k type report one think identify top k particular graph model value report depend particular underlie graph model use instance section six show simple graph high perfect correlation brand attribute ad impression identify top k thus interpret identify top k user query highest brand impact many user query fact advertiser name brand name thus think shadow brand due privacy issue show actual example output another interest example top k output top k pass think top k user query associate revenue advertiser one take account graph interestingly figure three know uncorrelated brand attribute identify effect take account last ad model traditionally rely last ad report conversion rat evaluate ad effectiveness alternative report suggest would look rank higher take account like last ad one criteria rank difference node rank last ad node rank criteria show figure five another criteria look either grow distance conversion backward model search state higher interest state one model figure seven show second approach bias towards brand first one identify top k maximum marginal increase mi popular advertise objective maximize expect number user give certain budget constraint random walk model restate maximize probability hit conversion node start begin node heuristic way identify valuable nod invest examine small increase bid query maximum effect probability hit conversion node small increase bid result small increase weight incoming edge query thus order identify query increase bid result maximum marginal increase probability hit conversion look top k maximum mi advertiser may consider increase bid query large mi ten explain value assign particular node graph must easily explain local structure around node instance contribution node one always consider neighbor nod explain node contribute fraction conversion node formally let permutation neighbor node arrange decrease order v c define set first nod permutation nod think likely next action user explain action assume user go convert straightforward extend algorithm one keep track top every node thus one efficiently generate correspond report report best represent graph plot construct start seed node go distance graph neighbor every node due privacy reason well space limit omit example plot eight access aggregate statistics rate conversion rate lift ad campaign seek understand sophisticate see action introduce alternative data mine technique aggregate advertise data define various model data pertinent advertiser propose several base stationary suitable random walk quantify impact ad show anecdotal evidence describe potential data mine research introduce novel mine advertiser specific data ad effect define succinct easy compute capture many structural emphasize heuristic practical bid strategy also take account current bid landscape much advertiser bid particular full future data mine develop use may potentially reveal sophisticate user behavior include negative valuable future research include develop graphical model user behavior beyond model paper adapt would like thank chao help us data set sheng pereira r interest nine reference one e e brill improve web search rank incorporate user behavior information six proceed annual international conference research development information retrieval page two r r fast mine association rule proceed international conference large page three h new look statistical model automatic control four r c j j v sh teng local computation mathematics five atlas engagement map think paper available six r seth jing j aly video suggestion discovery take random walk view graph proceed international conference world wide web page seven h j e h li towards search learn large variable length hide model search log nine proceed international conference world wide web page eight whither click brand prove value advertise available nine g f communication graph proceed international conference data engineer page ten e e dar v budget optimization ad auction world wide web conference eleven j dean data process large cluster one twelve f j provost combine data mine machine learn user proceed second international conference knowledge discovery data mine page thirteen j pal c stein budget optimization advertise auction seven proceed conference electronic commerce page fourteen r k beyond user behavior predictor successful search ten proceed international conference web search data mine forthcoming fifteen h rank algorithm web search knowledge data engineer fifteen four sixteen h algorithm mine frequent graph data data mine knowledge discovery page seventeen g j scale personalize web search three proceed international conference world wide web page eighteen k brand equity integrate communication integrate communication synergy persuasive voice nineteen r study bootstrap accuracy estimation model selection proceed fourteenth international joint conference artificial intelligence page twenty r lewis retail advertise work measure advertise via control experiment yahoo work paper yahoo research g h j j c horn n g system graph process nine proceed symposium distribute compute page h h discovery frequent event sequence data mine knowledge discovery sept pal z stochastic model budget optimization advertise lecture note computer science network economics page l page brin r citation rank bring order web technical report k k adaptive web search base user construct without four proceed international conference world wide web page ten appendix proof proposition one proof four v one x take derivative c c x one immediately follow c c zero next h c one c equivalent substraction c one c c h h one c h c c one zero c zero proof proposition two p p p p proof know vector p restart node b solve equation p one transition matrix fix nod j take derivative respect one p one zero matrix single one row column j follow one p one p component vector p write one p p one p linearity see p time one vector restart node j ie b c one b j c proof proposition three five proof outgo edge use equality c c one j c four show b c one b x j one j c zero x j one one one b c b c incoming edge use similar trick b b one b j proof theorem two proof approximate theorem one four mi pass simply note write one valid random walk matrix every row sum ten rest go null one therefore calculate hit derivative mi pass via algorithm random walk restart probability theorem one four work full