lens blur effect focus control two university figure one example image render real time method achieve effect include lens spherical aberration efficiency method make artistic purpose support complex like photography b system offer intuitive control depth field extend physical model c achieve expressive yet convince result background stay focus abstract present novel render system blur lens effect support render outperform previous approach involve novel trace method solution achieve precision compete result mostly indistinguishable render method also general integrate advance simple geometric lens model enable various lens aberration effect latter crucial realism often employ artistic show available artistic simulate method spirit work introduce intuitive control effect physical basis crucial start point enable new artistic render base generalize focal surface emphasize particular scene retain realistic look solution provide realistic well plausible expressive result computer graphics image generation one introduction real aperture light fall image plane contain register image sharp image small aperture preferable less light would hit diffraction become issue use aperture combination lens point certain focal distance project single point point map circle confusion latter effect lead blur within certain distance range depth field image crisp dramatically reference format lee e seidel h lens blur effect focus control graph four article seven page copyright notice permission make digital hard copy part work personal classroom use grant without fee provide copy make distribute direct commercial advantage copy show notice fi page initial screen display along full citation copyright work own must honor abstract credit permit copy otherwise republish post redistribute list use component work work require prior c permission fee may request two plaza suite new york one improve depth perception also become important aspect semantic purpose draw attention certain maintain realistic look paper present efficient solution approximate process consider aperture also lens interaction approximate optical unique feature approach sometimes consider artifact crucial realism allow us reproduce many feature often employ artistic figure one achieve effect algorithm need certain generality also underline support specialize photography lens image plane longer align figure one b work enable us explore large variety even outperform compete goal enable enhance emphasize layout scene animation better match context efficiency important aspect also controllability propose intuitive interaction physical nonphysical effect particular concern focus crucial component interface enable even novice produce convince result figure one precisely paper follow efficient algorithm lens blur effect interactive intuitive focus control system generalize method expressive render rest paper structure follow review previous work section two discuss lens model render algorithm section three many optical come directly lens simulation motivate use section four illustrate method extend expressive render section five finally discuss present performance result section six conclude section seven two previous work many exist generate focal imagery graphics result often low quality far real time lack interactive render might one reason little work address focus manipulation despite increase awareness control crucial instant feedback central context abstraction one guide perception enhance b c graphics vol four article publication date emphasize interest reduce complexity scene make understandable achieve dramatic beyond physical previously interactive usually fail reproduce realistic result provide small range limit lack plausibility obtain general simulation physical basis artistic effect render single image shoot center lens filter use approximate al al al al al lee al lead high performance also intensity leakage color bleed background depth discontinuity anisotropic filter al lee al spread al address issue partially alternative scatter transform necessary sort make applicable mostly render general single image miss information surface hide lens center large impact final image one way hallucinate miss split single image depth layer extend color layer hide al al however extrapolation reflect true scene information lead incorrect result especially foreground fuse layer via alpha blend coarse approximation approach work separate object usually mitigate image process al information duplication depth variation lee al accumulation treat visibility correctly via ray trace cook al akeley since scene render induce heavy cost usually inappropriate use accumulation buffer method akeley force several ray make difficult extend general lens model recent method lee al combine single render step derive layer representation execute algorithm efficient achieve quality comparable accurate however expressive scenario highly anisotropic blur occur show reduce performance many layer need bind increase memory consumption make common approach work spirit efficient even standard better adapt expressive purpose scale better smaller amount layer incorporate advance lens effect solution provide user control semantics generalize create image model impose challenge instead directly interact appearance object case paint final result define indirectly via render increase complexity physical need intuitive control ease realization desire result especially novice tendency extend physical model maintain plausible outcome simulation act entry point refine appearance similarly allow simple interaction define physical effect context lens effect little work exist propose semantic visualization work prove potential control process make result often unrealistic use filter replace aperture effect abstract filter optical system offer local control specify blur point use heat diffusion outcome lack plausibility approach deliver result support physical address dynamic particular enable large variety blur crucial artistic purpose instance support photography without costly render offer feedback couple intuitive control technique produce focal plan perpendicular lens recently receive much attention due strong blur produce miniature look figure one b three realistic lens blur section explain lens model present efficient render algorithm lens effect figure two simulation spherical lens ray converge exactly point especially lens model purpose lens refocus ray bundle image plane depend application area lens shape design accordingly smith often rely path trace predict lens trace ray image sensor lens system scene al simulation use geometric shape refractive index lens consequently many capture lens shape influence refraction ray enter exit lens accord snell law spherical outgo ray compute accurately involve small constant overhead lens spherical aberration curvature field section four arise naturally simulation previously neglect furthermore assume ray coherence form center many previous approach require efficiency limitation assume ray refract exactly twice traverse lens travel along straight inside lens figure two hereby ignore diffraction reflect ray render algorithm nowadays intuitive interaction light design common survey find explore include highlight shadow al camera placement indirect illumination al usually physical algorithm work two step first derive layer representation scene use modify strategy second sensor trace several ray compute interaction aperture use ray trace find scene ray accumulate generate final image image lee graphics vol four article publication date layer construction via efficient depth peel avoid test lens ray actual scene instead derive layer representation via depth peel lens center depth peel technique pass peel one layer scene ie pass capture underlie surface cull geometry previous pass termination peel detect via occlusion query faster peel exist al however accelerate ray trace step crucial reduce number layer use two important first layer reach lens ray need extract second representation center leave room interpretation actual geometry figure three use offset depth peel omit surface hide behind already extract extend lead occlusion exploit give p capture ray r center p block region space lens ray figure three one think lens light source space correspond shadow umbra lens ray intersect sample capture r inside umbra hence depth peel instead cull depth previous pass offset previous depth distance r travel inside umbra cull improve virtually extend capture neighbor center important notice extension would affect depth peel process surface capture exactly center consequently standard depth peel would deliver layer use virtually increase umbra final offset x apply give x es umbra method standard camera lens radius resolution ten layer always enough independently scene practice layer common consider connect result performance gain solution remain assume silhouette extend way ray trace compute lens ray ray trace start sensor many ray shoot block accord aperture transform via lens lens ray test scene layer lens define two side combine intersection test aperture first lens surface intersection point ray refract accord lens refraction index alternatively algebraic surface solve analytically spherical common reality due relatively cheap physical construction figure four instead search along entire ray clamp ray depth process repeat result segment plane underneath projection ray call footprint footprint large intersection test costly reduce compute minimum maximum layer via happen within depth range clamp original ray result segment smaller footprint figure four less need consideration similarly give underneath new footprint repeat process narrow search region remain test one one find intersection reduce search region per ray costly instead treat lens ray parallel imply two challenge address hereafter derive bound footprint lens ray depth interval compute value footprint region bound footprint model footprint ray give depth circle confusion bind footprint depth interval enough take maximum simple make computation efficient geometric lens apart particular case close form complex nonetheless deal finite number lens ray ray easily clamp depth range bind footprint ray give depth interval intersect ray plan distance collect intersection point compute bound quad image space use approximate footprint give bound quad compute underlie depth value detail hereafter repeat process clamp ray compute new bound quad three good gain cost step although might sound expensive ray trace leave room arithmetic show evaluate lens ray fourteen sufficiently accurate practice compute value give footprint use determine minimum maximum cover value set ti identical resolution original image p ti contain minimum maximum value inside square size around p cover footprint rectangle use four texture correspond overlap square hierarchical construction use ti fast memory intensive solution use texture apply version resolution original layer memory gain construction correspond factor four small sample efficiently use original image efficient intersection test moment let us assume single depth layer lens ray test intersection layer naively involve step layer image one catch especially latter layer empty capture information need exclude construction mark miss data size lens blur effect focus control graphics vol four article publication date use depth value zero depth peel clear zero peel step exclude output depth zero consequently value indicate data output pack accelerate multiple layer treatment pack four depth value single texture directly peel step allow us scan four layer parallel similarly layer share one set minimum maximum layer still narrow quickly lens ray almost perpendicular image plane finally test four depth value recover single simultaneously step along segment intersection find correspond color retrieve layer skip depth peel order globally give local order hence empty remain empty follow layer lead large empty zone detect efficiently four optical geometric lens model capture many optical present real particularly visible aperture fully open although try counterbalance employ lens set simulation crucial realistic artistic effect exaggerate provoke certain appearance review three case refer smith consider interest due strong effect relatively common usage artistic spherical aberration contrast theoretical thin lens spherical perfectly focus sensor ray single focal point usually ray strongly bend lens periphery biconvex like human cornea reduce effect visually spherical aberration manifest general blur discrepancy sharpness brightness image allow us derive appearance furthermore appear around strong highlight visible use drive attention well define general mood figure five right curvature field project focal plane curve image ray large angle see lens smaller diameter higher power image point move closer lens make image clearly focus center lose focus towards boundary curve image surface common many real especially telescope compare spherical aberration blur anisotropic often use suggest past dream still velocity chromatic aberration refraction index lens usually depend incoming light often invisible result color around object figure five leave spherical aberration direct consequence lens model chromatic aberration need simulate explicitly use empirical equation propose n one two two two material n refractive index model originally thin lens allow us benefit large material physical borosilicate crown glass typical lens material nonphysical result possible figure five maintain performance employ full spectral evaluation instead separately figure five approach chromatic leave glass spherical aberration right compute lens ray three dominant channel assume respectively although capture full spectrum approach usually lead convince result recent work scatter human eye al show result faithful need sample could use improve approximation five control focus lens effect section present algorithm intuitively control lens blur present also extend beyond physical definition allow vary lens image point context also allow control previously present abstraction purpose user interface previously mention control focus allow us guide observer certain emphasize object create special mood example might interest always keep object order reveal detail scene stay constantly focus change focal distance manually frame tedious process interface user control high level attach attribute like focus directly scene time click screen define focus point internally store barycentric triangle support animate geometry focus point one specify prominently amount blur influence weight base input camera optimize reflect intend current view per default exclude outside view frustum allow artist specify otherwise also increase influence avoid use temporal interpolation achieve temporal coherence control focus standard lens model describe intuitive focus control common thin lens give focal length f focal distance define distance image plane lens f f f use single focus point scene let user define focal distance spherical thick lens spherical control similarly focal length compute via lens maker equation one f n one negative lens radii thickness n refractive index one one photography photography camera image plane tilt respect lens hereby tilt focal six twenty lee graphics vol four article publication date plane effect interest figure one b nonintuitive relation tilt focus make device difficult operate especially animate contrary make process simple control derive focal plane focus point focal plane automatically transform image plane tilt care need focal plane align view vector avoid physical impossibility limit plane normal expressive focus control system also allow local parameter standard lens model restrict global artistic purpose particularly interest enhance certain example locality important different emphasis put object reside distance control via focal surface continuously interpolate screen space well extent form single scalar value temporal smoothness achieve interpolate surface time focal surface interpolation focal surface definition base square solution focal point define kernel function around practice use weight define term screen space distance focal point give minimize error function weight desire focus point accord weight function importance weight give finer control strength influence region focus point since surface necessarily identical designer intention control range affect nearby control point increase local behavior become narrower limit could reintroduce work well practice experiment different get comparable result important handle zero ensure perfect interpolation control point surface evaluate entirely enable us define system also support focus point indicate user simply specify offset respect potential focal plane achieve control practice interaction intuitive occur overlap order avoid reduce influence kernel function accord distance slowly fade contribution become invisible counteract artist behavior differently system deliver immediate feedback ease interaction expressive aberration effect could influence via lens shape practice require much far intuitive framework instead expressive render decide use less accurate simulation intuitive control spherical aberration cause vary distance light travel inside lens often observe ray bend strongly periphery lens center intuitively controllable approximation modify refractive power via spline definition spherical aberration valuable effect provide possibility directly weight ray differently influence shape curvature field appear focal plane associate curve image plane word image plane result render object focal plane would sharp simulate effect let user define offset surface image plane use smooth figure six expressive aberration effect spherical aberration highlight leave curvature field combine lens focus table right interpolation write result deformation buffer point surface share focal distance lens appear different focal length point adapt ray traverse surface accordingly take effect account chromatic aberration control via vary refraction indices channel intuitive remain unchanged find allow us easily control lens effect figure six video demonstrate intuitively adjust achieve complex six result discussion performance system implement use machine evaluate performance term geometry class table one despite high scene complexity method result high performance range thirty standard graphics card test different class indicate roughly linear algorithm respect number stream approach benefit texture illustrate proportionally lower compare result recent algorithm lee al reference method ref akeley simulate model available choice comparison require sixteen layer avoid add time eight layer well latter readily visible method remain use four layer achieve sublinear performance respect number layer perform efficient skip intersection test sparse later layer typically eight layer ray trace cost second four represent way ray trace generally scale slightly respect sample rate geometric lens model roughly constant overhead ten ray add need compute lens ray complex thin lens investigate behavior method face high render cost use triangle scene apply different complex achieve cost produce render resolution scene compute layer scene representation take process less expensive naive render due skip later layer depth peel ray trace independent cost stay cheap ray time scene similar ray observation indicate defer shade common technique game extract surface apply would reduce overall cost drastically approach defer shade mem lens blur effect focus control graphics vol four article publication date depth total layer ref town tri tri dragon tri four six ten seven seventeen sixteen fifteen six eight fourteen eleven forty sixteen twenty forty table one comparison render cost system lens ray four layer competitor lee al reference ref akeley factor give parentheses denote number stream quality measure give respect ref evaluate wang al ory consumption much lower compare lee al practice modify peel result seven layer realistic less half depth peel stop five occupancy use instead lee al detail provide supplementary material quality image quality method similar reference result show ratio structural similarity wang al see table one figure seven ghost arise employ insufficient number ray improve perceive quality use vary pattern lee al solution incompatible accumulation buffer figure seven illustrate sample solution still achieve interactive rat scene give result indistinguishable even kernel kernel much approach apply figure paper use sample layer independent scene far plane peel result always finite maximal amount layer layer allow us produce render sense ray miss surface property assure peel capture constant amount layer major difference accumulation buffer method move camera surface sample change view practice difference subtle strong effect blur kernel large advantage make strategy also interest computation combine approach depth peel example transparency interest avenue future work however currently report limit performance thirty card even inferior total execution time store layer thus costly find could use reduce surface sample nevertheless limit initial memory consumption figure eight depict scene single contain layer solution produce correct result use four layer high memory consumption peel also hinder defer shade incoming fragment shade directly comparison decomposition lee al depth peel ray trace treat multiple layer parallel use less arithmetic consequence achieve equivalent better quality strong also miss hide fragment within layer avoid temporal pop geometry cross many layer four layer usually enough result important feature valid uniform lee al figure seven influence number lens ray n show expressive spectrum system mimic specialize like effectiveness interface best demonstrate accompany video particular instant feedback crucial judge supplementary need dramatic effect achieve click result look convince even animation discussion one key aspect method peel exploit ambiguity image geometric efficient nearby faraway faraway relative parallax small result umbra large world space extent large enough respect lens lens ray access layer behind extreme case lens degenerate point method derive single depth figure eight method handle complex case visibility seven conclusion future work present novel render system exceed previous performance quality introduce first system manage many lens aberration effect latter important component artistic photography consequently present simple system control blur extend control nonphysical plausible result yet give large future work focus extend user interface facilitate interaction paint also ref b c jitter e jitter method four layer lee graphics vol four article publication date theory temporal interpolation animation already possible new possibility integrate control system could useful game trigger particular focus test well guide via focus design thank l k support scan repository aim shape crane model work partly fund visual compute institute university reference b e render skew plane sharp focus associate depth field sketch b introduce render render workshop b horn elimination due occlusion image space blur graphical model fort p accurate depth field use anisotropic diffusion graphics card nonlinear aperture stylize depth field technical talk cook r l porter carpenter l distribute ray trace computer graphics eighteen three x efficient depth map query j depth field survey r p camera control p akeley k accumulation buffer hardware support render e practical depth field three h j g singh fast table generation computer graphics forum three j interactive depth field use simulate diffusion tech rep c p realistic camera model computer graphics r h semantic depth field information visualization b algorithm render generalize depth field effect base simulate heat diffusion tao b depth field layer use rectangle spread graphics interface render pyramidal image process lee kim g j render use layer computer graphics forum seven lee e seidel render synthesis graph five lee kim g j render use anisotropically filter interpolation vis computer graphics fifteen three f c x h e h single pass depth peel via talk g image blur pictorial depth cue biological h focus view camera nova scotia g x survey inverse render computer graphics forum four f j edit measure use optimization graph three f tole p p user interface interactive cinematic shadow design f relief map surface detail lens aperture camera model synthetic image generation fifteen three g n j depth field simulation w f four j r j k seidel temporal glare dynamic simulation scatter human eye p generate effect virtual reality graph sixteen two c j b j paint light w spectrum smith w modern lens design professional wang z c h r e p image quality assessment error visibility structural similarity image thirteen four j pullen accurate depth field simulation real time computer graphics forum one c interactive transparency p light highlight white paper two six seven shadow lens blur effect focus control graphics vol four article publication date