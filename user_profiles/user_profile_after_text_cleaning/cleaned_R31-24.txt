public access sloan digital sky server ani peter z jordan one university three national accelerator laboratory two four cern vincent gray technical report research corporation street san ca one article submit publication one public access sloan digital sky server ani peter z four jordan one un two three national accelerator laboratory four cern gray vincent abstract provide access public sloan digital sky survey data science education paper describe architecture also describe experience operate data public make good test platform research performance introduction provide access public sloan digital sky survey data science education survey northern sky square twelve resolution use modern telescope characterize object five optical band measure spectra mi object first year data public raw data gather telescope apache point new feed data analysis image analyze data image camera extract attribute celestial object along cutout image spectroscopic analyze data extract calibrate spectra absorption emission line many attribute embody much mankind knowledge astronomy pipeline major part project approximately project cost effort result large northern sky small stripe southern sky complete survey data occupy forty image data three process data calibration pipeline output available consortium approximately year publish data astronomy community public data available everyone everywhere first year data public contain fourteen million object fifty thousand spectra access public data via may get private copy data web server support professional educational access public data release data analysis pipeline improve data augment become public next schedule release addition get better documentation tool learn use german server mirror many part world paper sketch design report web site design describe data load pipeline report early usage web server interface design access via use standard accept request image sky image spectra tabular output also link literature object vizier site project description data collect mean also project suitable teach learn astronomy computational science various grade level figure one cartoon main access screen popular access atlas famous place show color image interest often famous celestial object image try lead viewer article object let drill view object within data also tool let user navigate field plate get image spectra particular object see figure one drill text interface let us sophisticate mine scheme let us pan across section sky pick object spectra present sky color image build specially original deep image convert use nonlinear intensity map reduce brightness dynamic range screen quality image store image pyramid build four zoom level spectra also convert gif image two p sloan foundation participate national aeronautics space administration national science foundation department energy society provide fund creation distribution archive web site participate university institute advance study japan participation group university astronomy ast new state university university unite state naval observatory university donate hardware process donate basic two figure one web interface provide many different ways look data famous place gallery beautiful image sophisticate navigate find image data particular celestial object variety query also link literature object one ways access data also archive server build university much architecture copy design leverage documentation design addition raw file available data archive server das das operate access via space telescope science institute mast mission archive space telescope data mine data mine original motive build want tool would able quickly answer question like find gravitational lens find object like one indeed define twenty typical query design answer query another paper describe query performance gray quickly summarize result query correspond typical task would c program extract data archive analyze able state query simply quickly could real productivity gain astronomy community please discover twenty query fairly simple obvious start often query express single statement case query iterative result one query feed next many query run second involve sequential scan take three complex join take nearly hour occasionally pick bad plan query take several spatial data query simple state execute quickly use spatial index circumvent limitation server neighbor object even without force might create materialize view speed query general query benefit indices column contain popular field translate query require good understand astronomy good understand good understand normal use simple query use extract subset data analyze data system use tool especially complex involve join spatial query part current astronomy stand barrier use astronomy community hope good visual query tool make easier compose ameliorate problem query tool query tool help compose query inspire server query analyzer run freely available web site malik connect via local use via soap use figure two navigation interface allow point spot celestial globe view stripe spot zoom three level view object close point object get summary attribute one also call whole record three provide text base query mode text base mode user compose execute query store function text base query window show leave figure three mode user formulate query list leave pane without need know syntax user create query diagram create syntactically correct query implicitly teach show right figure three query answer produce still need understand make progress data vis pose web server design architecture fairly simple web server accept request process active server page asp script use active data object ado query server return record set format page figure three public domain run use query text input mode object browser leave pane get schema server build hierarchical object browser table store function index comment leave pane see figure three tool tip text tell user mean table field include data type null indices consist build show primary key constraint table well foreign key foreign key show table reference provide result three format one grid base quick view result two ascii comma separate value use three use application read data query execution statistics vital large status window show execution time query round nearest second also show connection information user name server name public web server limit query record thirty second computation demand query must attach private line build two people activity design derive structure data image store image pyramid frame strip allow see overview sky zoom specific view particular object challenge aspect web site design support rich user interface many different support challenge especially many consider except use cascade style sheet dynamic ongoing struggle support evolve professional generally good command support international user community include web page hierarchy branch three ways branch german branch branch add people fluent mirror site data support real astronomical data public access web make enormous potential resource science education public outreach today learn astronomy textbook exercise use artificial data data take ago study data never see human eye design several interactive educational project let use learn astronomy computational science target project two first bright excite astronomy want work data independently second take general astronomy science course part school curriculum accommodate offer several different project four plan add fit format fourth option fit user save result file use level project elementary school challenge project design stretch bright college project design use school include site advice lead class project national education project project old time astronomy ask imagine astronomy like cam sample student hubble diagram twenty nineteen e n g eighteen seventeen sixteen fifteen zero figure four example old time astronomy project compare sketch galaxy make amateur astronomer leave image galaxy digitize sky survey right advance project plot hubble diagram right show relative distance nine discover expansion universe one two era invent record data sketch project show image star ask sketch see student sketch image trade another student see student guess image sketch see figure four project advance high school college explore expand universe web site first give background read know universe expand let us discover expansion make hubble diagram plot distant function distance earth sample student hubble diagram show figure four among teach work real data many exercise project develop around one particularly successful one do teacher grow international interest use teach science native language case one excite use education potential pose answer astronomical research question examine exactly data professional ask question school project end final challenge invite independent work question interest also work mentorship program match work school science fair project professional volunteer act mentor help refine research question obtain data need find answer site traffic operate since five june first four serve two million hit thousand page view via fifty thousand sessions four three ge educational project get eight traffic page view day server time four three five eleven eight upgrade three associate fail power patch five power last several show statistics clearly visible figure five two network overload plague june conversely peak traffic coincide class use site news article mention astronomy sustain usage people access page per day site configure handle load show two generate peak average load thirty traffic sit crawl extract data image ten hacker attack per day traffic hit page view sessions figure five four process two million page hit twelve million page thirty thousand sessions web server deployment administration application primarily administer san use remote system terminal server feature staff manage physical hardware network site security mirror server incremental development test two sit synchronize per week five second kind main data product produce sloan digital sky survey spectra observe use single plate optical go different pipeline process typically extract thirty spectral line spectrogram carefully estimate object stripe stripe data data run data run data process process pipeline pipeline relational design originally develop entire archive use extensively example star galaxy support array naturally map five value parent spectra survey represent object reference translate design relational schema straightforward want preserve much original design possible order preserve exist knowledge documentation field field frame frame relational language support array much simpler data model strength liability approach design use view use foreign key figure six survey merge two two strip two nights stripe stripe process pipeline produce image photo object sloan digital sky survey data process pipeline examine image telescope identify photo object either star trail cosmic ray satellite defect classification probabilistic ie sometimes difficult distinguish faint star faint distant small galaxy addition basic classification pipeline extract attribute object include cutout object five color band zero zero three three one one strip strip actual take strip wide long see figure six complicate strip fact mosaic two night two strip ten overlap strip overlap near horizon consequently eleven object appear pipeline pipeline pick one object instance primary instance record even challenge one star galaxy often overlap another star part cluster case child object parent object child also appear e parent never primary end eighty photo object primary six six five color five color photo object positional attribute right ascension declination system also represent unit vector index hierarchical triangular mesh also brightness store logarithmic error bar five color band measure six different ways total sixty attribute image process pipeline also measure galaxy extent several ways five color band error estimate pipeline assign hundred additional object attribute variously call flag status type encode bite flag pipeline correlate object object unite state naval observatory rontgen satellite faint image radio sky first successful record set relationship table figure seven schema photographic object like star show leave process field field turn contain many object object image profile array give brightness concentric ring around object spectrographic snowflake schema show right plate produce spectra turn thirty spectral line line analyze correct survey first record table leave six photographic object start image data table star galaxy attribute five color attribute array error array represent name g r z example name red magnitude measure best model fit data case name unnatural profile array data encapsulate access function extract array blob represent foreign key view use star class define star view base table view virtual table translate query base table result snowflake schema table center table cluster figure seven fourteen million record attribute describe object per record field table describe process use object field frame table connect flag primary connect object object survey one table neighbor compute data load every object neighbor table contain list object within twelve object typically ten object speed proximity search spectroscopic object second kind data object produce sloan digital sky survey spectra observe use single plate optical go two different plate description store plate table description spectrogram store table spectrogram handsome gif image associate pipeline process typically extract thirty spectral line spectrogram spectral line store table table derive analyze line group use characterize type age astronomical object line model correct result attribute store table separate derive use emission line store table standard relational design table integrate foreign key object unique key key value store part key every relate spectral line find spectral line object one write query select spectrographic table also form snowflake schema give name various flag line type foreign key connect table photo object measure spectrogram also set miscellaneous table use monitor data load process support web interface access design view indices access function table contain many type object star case want see object typically interest primary object best instance child want focus star three view define table flag primary true star type star type galaxy work term table rather base table fact query cast term view equivalent query rewrite query map base table additional speed access table heavily index indices also benefit view previous design base replicate vertical data slice call tag table contain frequently access object attribute tag table ten time smaller base table rather thousand concern tag table design must know attribute tag table must know query cover field tag table indices attractive alternative tag table index field b c give automatically manage tag table three attribute plus primary key query automatically use index query cover contain three field indices perform role tag table lower intellectual load user addition give column subset thereby speed access ten one hundred fold indices also cluster data search limit one part object space cluster type star galaxy space magnitude attribute one limitation server limit indices sixteen today indices add need nice thing indices add speed query use downside slow data insert process far problem thirty storage space devote indices seven nonetheless create table compatibility design address index limit server addition indices design include fairly complete set foreign key insure every profile object every object within valid field also insist field integrity invaluable tool detect load aid tool automatically navigate spatial data access especially interest galactic cluster structure universe addition web interface routinely ask object certain rectangular circular area celestial sphere use three different first declination comparable terrestrial ubiquitous astronomy x z unit vector store make fast dot product difference two quick ways determine distance two two twenty twenty twenty triangular mesh make spatial area query run quickly hierarchical code add server briefly inscribe celestial sphere within octahedron project celestial point onto surface octahedron projection approximately partition sphere eight face octahedron hierarchically decompose face recursive sequence level recursion divide triangle four figure eight use individual less one side id point near north pole galactic would something like thirty zero basic convert ra encode importantly within triangle map index provide quick index object within give triangle library end store procedure wrap function area area either circle ra radius intersection plan polygon define sequence point function return table row define start end triangle one join table table get spatial subset photo object function primitive actually want object nearby certain object want object certain area simpler function also support example return nearest object within one equatorial frequently use query access page summary design summary logical design consist photographic spectrographic object organize pair snowflake view many indices give convenient access conventional star indices define make spatial convenient fast physical design initially take simple design since work stop design count storage engine query intelligent data layout data access make data table create one file group file spread across four mirror four hold file start twenty automatically grow need log file temporary also spread across disk server strip table across file hence across disk detect sequential access create parallel thread use multiple analyze data quickly disk produce read write automatically give sum disk without special user program table field frame table one count record major table indices approximately double space record neighbor profile plate beyond file group strip use server default value special tune figure eight hierarchical triangular mesh assign number point sphere query use index limit search small set index build extension server eight hallmark server system aim box performance quite good testimonial goal later section discuss hardware system performance load process data warehouse new data add batch mostly data query course query create intermediate result may deposit answer temporary table vast bulk data occasionally new schema load right disk choose large enough hold three complete copy ad ministrator perspective main task data load include data validation new photo object come pipeline add system want load process automatic possible figure nine screen shoot interface operate via use terminal server remote facility build operate system load maintenance do way screen shoot show window system load step complete show loader utility load monitor performance monitor window query window remote operation prove godsend allow perform task data pipeline produce fit file also produce comma separate list file object data file file convert various zoom level image pyramid build load file copy script load data use server data transformation service data conversion integrity check also recognize file name field use name place content correspond image file blob field record script table load step addition load data script write record table record load time number record source file number insert record step also write trace file indicate success load step particular load step may fail data violate foreign key data invalid violate integrity web interface help operator one undo load step two diagnose fix data problem three execute load correct data load run five per hour data conversion intensive current data load twelve simple web user interface display table make easy examine file load trace file input file easily repair do administrator often data need regenerate either case first step undo fail load step hence web interface undo button step undo function work follow table field tell record insert field default value load event record tell table name start stop time load step undo consist delete record table insert time bad load step start stop time personal one subset five server fit web include web site photo spectrographic object square sky personal fit useful experiment query develop web site give essentially classroom per student disk technology large slice public data fit single disk hardware design performance early data release sixty see table one run single processor system one disk run capable hardware generously donate computer corporation figure ten show hardware configuration web server run dual single channel adapter mi disk web server almost disk io normal operation clock disk subsystem web server also nine rout separate private link server data mine query server configure give fast sequential disk healthy power high availability server run server two bus bus two single channel also complement hardware redundant power supply redundant fan disk server ten disk five channel raid manage five mirror one operate system remain four data log spread across four mirror server strip data across four effectively manage data disk strip plus mirror configuration scan data simple query like select count one well work separate paper give detail time twenty complex query gray summarize typical index run primarily complete within second two server use available memory cache frequently use data index scan row photo table run seven second warm five record per second bind seventeen second cold server query scan entire table run take three scan use available disk parallel io bind project begin exist deliver five heavy consumption indeed main reason consider relational goal user level single machine beyond array parallel machine could deliver would give response simple query response full scan stand server hardware exceed performance general machine run bus limit machine run data grow array powerful machine allow return answer within second depend whether index search scan ram ram figure ten hardware configuration web dual processor run server run ten disk drive machine communicate via web server connect router try various test maximum io speed see figure eleven system scan per second twelve utilization file level server run minimal select count query hardware also nine disk three rate evaluate million tag cord per second rate count utilization ten clock per clock per record complex query count one bind use nineteen data main memory system scan data select count five disk deliver forty three disk one controller deliver scale three disk nearly saturate controller beyond additional need bus saturate quite enough two disk add linear quantum bus saturate add one bus saturate p b fifty zero one disk saturate figure eleven sequential io speed important data mine query graph show sequential scan speed per second disk add one controller add three disk indicate io system process million record per second saturate ten summary next step web site contain sloan digital sky survey early data release fourteen million celestial object fifty thousand spectra access via provide access well several query include report raw query query builder design easy public access data mine site test data mine implement twenty complex astronomy query evaluate performance please performance clone server thousand data web server also replicate various astronomy computer science institute either explore data experiment better ways analyze visualize data tool describe modest step towards goal provide excellent data analysis vis tool hope enable computer advance field build better tool four main evolutionary branch public r new data release twice year data analysis pipeline improve data augment become public addition get better documentation tool get experience use german clone plan clone several sit basic server cost less ten thousand virtual observatory one many astronomy archive soon world best telescope much world astronomy data cover measure spectral band data literature accessible everyone everywhere successful great tool analyze data federate web service vizier vizier first step federation science archive second group preliminary yet release data form virtual private network accessible consortium sophisticate intimately familiar data unique need outreach curriculum development data great vehicle teach astronomy computational science data real everything come error bar everything strong science data also strong graphical spatial temporal fairly well public course big today hope discover educational potential university level acknowledge obvious debt people build telescope operate build process operate pipeline data depend people generously donate hardware money support advise us web site design construction operation gal kent rich spark mark tamas contribute site content development build german site ya help test develop class martial reference j gray spatial data ware house june first faint image radio sky first fit fit flexible image transport system gray twenty query answer hierarchical triangular mesh p z r index science archive n c asp conference series malik query analyzer mast mission archive space telescope extragalactic project rontgen satellite york al sloan digital sky survey technical summary astronomical journal c al sloan digital sky survey early data release astronomical journal press science archive astronomical p z j gray r design mine astronomy archive sloan digital sky survey ar multithreaded query agent engine large astronomical abase n c asp conference series us naval observatory virtual sky virtual sky vizier vizier service eleven