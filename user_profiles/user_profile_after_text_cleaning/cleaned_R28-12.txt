statistical model query log generation benjamin two de de la de chile one yahoo research abstract query log record past query sessions across time span statistical model propose explain log generation process within search engine list result model explain document selection user click take account document position popularity show possible quantify influence consequently estimate document unbiased among allow reorder result list match closely user use log feedback improve search one introduction query log data search engine record user query along position select document list return user document reorder accord popularity give query discrepancy observe new order search engine rank action take improve engine fig one plot number document position rank give query intuitive document position two four reorder latter higher popularity among nevertheless comparison document appear position nine thirteen reveal caveat method lower popularity latter document might cause less favorable position rather lower relevance query work propose explain observe log result process reflect one attractiveness document surrogate particular query two ability engine assess document relative relevance accurately three influence position document user section two model different gain insight log generation process intuitive understand model imagine moment search engine fig one stochastic rank give document say half time rank six half time rank fifteen situation may seem unrealistic fact time document collection update rank give query alter engine although deterministic appear stochastic log observe three time user present position six present position fifteen four nine two thirteen forty thirty twenty ten zero zero five ten fifteen twenty thirty position fig one number selection document per position typical query draw conclusion position effect position six three time position fifteen section relative position effect know possible compensate observe popularity document reorder document accordingly section three derive statistics relate model aggregate value like engine precision observe number give position section four present result numerical experiment base log real search engine section five examine reorder find literature term model finally section six compare work model propose five report potential two log generation model section describe probabilistic model user give rise log make use two hide latent namely influence position user attractiveness surrogate give query result model make conditional independence assumption two consider observation log realization four random query q issue user document position document p information whether document select user probability observe selection write p q subscript recall relation observe log specifically query q define sequence term give search engine number query repeat different different time give rise various query sessions q table one model q p c discrete discrete binary discrete binary binary query q document document surrogate attractive justify selection position document p user consider give position user select document selection document follow query q depend surrogate attractiveness user issue query q true say surrogate attractive probability true reflect proportion estimate surrogate promise enough justify selection make assumption surrogate represent fairly document probability interpret relative measure relevance approach take five among relative relative relevance select document compare way three data typically noisy click perfect relevance user convey information occasional user selection mistake cancel average large number question large log counterbalance user variability mistake open question observe noise large suggest large quantity data necessary hand commercial search generate enormous amount data comparatively small amount use experiment report literature lead satisfactory result decision surrogate attractiveness regard positionless process fetch document whose surrogate pertinent query wherever situate rank model upper part network fig two surrogate document relevant query q binary variable true false otherwise depend position p document rank query q user consider document reflect variable c consideration process one involve document selection would suppose blind select document base solely position rank interface artifact appear fix position like division result page blind process select document entirely determine document position p position p turn determine exogenously search engine base document query q entire document collection represent fix show lower branch network existence bias due position document well document literature four observe despite quality rank tend click average position q p c fig two network associate model model estimation accord identify apply chain rule probability observe selection fig two p c p q p sa c p p q p q p p q p sa c deterministic user select document surrogate attractive consider eliminate latent marginalize p c p q c use c binary random denote event c true p q p p q p q p p q introduce mnemonic indices term p emphasize represent position effect user decision make selection term p q probability document present position p depend exclusively search engine add subscript e term p q probability surrogate attractive give query use subscript mark fact model lemma one generation process process govern log generation obey p q pa q q p p q p q q estimate simple count log p q estimate number selection document position p sessions query q divide number query sessions q estimate number time appear position p query q divide number sessions q p total number document uniform independent p q probability observe query estimate proportion sessions query remain two pa q estimate use lemma one remark first p p represent solution system p p also solution zero reflect relative position effect q one p q p one note solution may valid probabilistic point view estimate practice either set position constant say one one normalize p p one set effect give p afterward search engine deterministic ie q zero one q simple analysis show system intuitively reflect document appear always position rank query impossible distinguish effect attractivity position vast majority search design order document deterministic way practice time document update rank document alter give rise situation engine appear stochastic system solve restrict system case zero q one strict transform model system linear take logarithm log pa q log log log one log one zero p q q one log pa q log advantage system solve use standard sparse matrix algebra three aggregate behavior section study relation log generation process aggregate value like total number position position effect engine precision proportion give position simply sum query document position definition one proportion position proportion position p define similarly also define p q q p obtain expect number position one need aggregate sessions precision traditionally define concentration relevant document result set define analogy surrogate precision measure obtain contribution position p new measure observe document place p engine probability q surrogate attractive probability pa q aggregate document query obtain definition two attractiveness gain give search engine attractiveness gain achieve position p sum attractiveness document appear position pa q q p p q q make assumption fair document take probability attractiveness estimate document probability pertinence sum gain rank k empirical measure search engine precision rank k note measure use compare two different search different three explain observe log consequence lemma one log generation process one two lemma two aggregate behavior proportion position p product gain position effect first consequence lemma concern deterministic search probability q find document position p one give position zero everywhere else rewrite aggregate behavior lemma two p obtain pa q q match intuition number generally decrease position selection later position better indicator surrogate attractiveness selection among first position hand term counterbalance effect reflect ability search engine place attractive first four numerical experiment illustrate propose method apply former result log search engine web two approximately three six separate new crawl various log show table two last column report number distinct query document appear log denote three log six log first examine impact strong wrong simplify assumption model namely popularity surrogate depend precede result list depend previous table two three six log intersection number sessions last column sum number sessions involve query common log distinct query distinct select sessions common user give session least effect cancel hypothesis true popularity estimate approximately equal six three p q p q position result q respectively evaluate probability attractiveness directly restrict attention case select document query pair whose document occupy position two log formally set define q q q q q three pair position effect cancel assumption hold p q three six p q p q denote estimate q derive p six q equivalent set contain distinct query distinct document pair although pair q document remain position rank document change change context document denote set query q contain least one document change position ie q query contain average distinct document respectively reveal list result contain different document new crawl new position document displace new crawl average rank apart original one three fig three divide p q estimate q pair ten bin equal range represent correspond six estimate ten three consider example p q four five four five six bin plot observe median correspond p q slightly four hand lower upper hinge median estimate smaller median approximately five respectively alignment diagonal show surrogate estimate stable context lead conclusion impact previous tend cancel median align horizontal line would mean govern include model hand large variation imply four ten eight six four two zero zero one one two two three three four four five five six six seven seven eight eight nine fig three lower axis estimate probability select document session query divide ten bin accord value example three second bin correspond q pair ten p q twenty six ordinate q pair correspond p q estimate upper axis report number q pair fall bin median indicate black center line first third edge hinge main box extreme value fifteen range plot point situate notch estimate suffer large variance inclusion model might reduce problem need verify alignment diagonal deteriorate document popularity increase suggest enjoy high popularity experience decrease sic transit two due partly document get outdated compare document appear first time moreover contain twice many document potentially number attractive query partly divert document already push relative number distance median diagonal induce bias estimate model compute gain solution linear system one plot fig four triangle position effect expect display particular page change reasonable make hypothesis gain decrease smoothly use linear regression second order experimental value plot continuous curve fig four position effect circle decrease five position one stabilize around three around position twenty induce approximately seventeen likely make selection first latter position blind two thus pass away glory world twelve eight four two zero five ten fifteen twenty thirty position fig four value normalize sum value position one thirty one normalize number position p square two position effect square three normalize gain triangle process distinct increase position effect correspond page change position ten gain present slope similar probability suggest engine influence relevance position although much sample log data use obtain reliable position effect estimate definitive draw five reorder analyze section various take log account document derive five call osmosis search engine ie engine adapt author consider represent fairly document order accord attractiveness respect preference document make hypothesis section result valid hold order compare two rank need identify optimal order strategy optimal search engine estimate accurately relevance document query order accordingly present adequate definition three optimal search engine search engine optimal document v query q pa q pa q position document v result list query q consequence definition optimal search almost always deterministic pa q pa q search engine stochastic optimal best strategy consist order document accord attractivity estimate might interest analyze consequence order accord observe number scheme two document swap q q engine deterministic rewrite pa q pa q strategy imply permutation pa q pa q adequate position effect equal hand sufficiently document remain trap original position attempt reorder like query cluster ten simply discard document popularity consider whether document select equivalent set position effect popularity constant six relate work five pursue goal similar base eye track study expert identify six preference feedback base query log example selection document interpret preference feedback document precede list select observe often reformulate query improve search set reformulation call query chain use derive relation preference among document selection document interpret preference feedback precede document appear select query preference set use train large margin classifier interest compare five preference feedback precede unselected document parallel assumption document order accord unbiased popularity position select document importance take popularity account positive feedback account document selection take position account document select latter position preference relation number document select document appear top list popularity position thus two main analysis hand provide enough data able derive quantitative estimate position effect need hypothesis fix arbitrarily limit quickly original order change preference feedback data model take account influence previous user next selection certain extent include information implicitly preference feedback derive document previously select probably severe limitation model topic future work future work also attempt take query chain account fail address problem ambiguous query example query car refer several like rent car buy car user probably one one mind select document accordingly problem model attempt order document answer different information need single list possible solution previously query two conclusion model complete essentially previous take account although implicitly model hand less heuristic make explicit open formal analysis also offer primary theoretical result position effect quantifiable difference document surrogate attractiveness make dependence determine hand seven propose theoretical interpretation data find search engine log give query assume two factor influence document selection position document result list attractiveness document surrogate main objective model estimate effect document position rank select thereby get unbiased estimate attractiveness document surrogate foresee various work important one relate development search engine learn rank document frequent query rank alter cache match rather engine score consequently increase engine moreover score function search engine tune base user improve engine precision query already log future query probabilistic retrieval model rely probability document term flag relevant document give query term estimation probability base user feedback unpractical obtain explicitly make possibility extract automatically necessary information log important novel method improve significantly also important weight appropriately document relevance set use feedback cluster query knowledge influence position document three frequent query also effective way improve engine speed due heavy skew query frequency distribution one use study interface approach develop result present list straightforward extend table image content automatic estimation relevance score query usually problematic text document influence previously see document user selection decision neglect model user find document information need likely continue search thereby discard relevant document topic future work support millennium nucleus center web research chile reference one r f three level search engine index base query log distribution spire brazil proceed lecture note computer science page two g recommend better query base data proceed international symposium string process information retrieval spire page springer three evaluate search use data department computer science university four optimize search use data two proceed eighth page new york press five f query chain learn rank implicit feedback five proceed eleventh international conference knowledge discovery data mine page new york press six b r belief network model proceed annual international conference research development information retrieval page new york press seven e k relevance weight search term graham publish eight unbiased evaluation retrieval quality use data technical report university department computer science nine wen cluster user query search engine one proceed international conference world wide web page new york press ten r find similar query satisfy search base query trace proceed international workshop efficient information sept