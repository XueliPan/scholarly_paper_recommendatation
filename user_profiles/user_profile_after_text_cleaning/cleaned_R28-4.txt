user behavior model average precision generalization grade yahoo benjamin university benjamin abstract explore set hypothesis user behavior potentially origin mean average precision metric allow us propose realistic version click relevant document number relevant document collection need know advance depart assumption document either relevant irrelevant use instead relevance judgment similar editorial label use discount cumulate gain assume click document provide certain level utility user end search gather enough utility base query log commercial search engine show evaluate utility associate label record past user search engine show two different user model evaluate base ability predict accurately future click finally base user model propose measure capture relative quality two rank subject information information search retrieval general term theory experimentation data user behavior search statistical model metrics introduction accurate method quantify quality document rank fundamental requisite design search rank metrics intervene different development permission make digital hard copy part work personal classroom use grant without fee provide copy make distribute profit commercial advantage copy bear notice full citation first page copy otherwise republish post redistribute list require prior specific permission fee ten geneva copyright stag prognostic metric use train rank function select best one among set function submit diagnostic metrics evaluate react change bring new function problem description suppose reliable examine set document return answer query provide us label describe relevance five grade scale decrease order relevance perfect excellent good fair bad p e g f b short long user scan rank sequentially ie top list bottom one document time clear best rank obtain order document decrease order label nevertheless enough know ideal rank typical scenario new rank function design operate set document query feature compare new function previous one evaluate respect optimal rank random set query choose document appear rank function manually label give rise two sequence label query evaluation set compare sequence work two level individual query level give two sequence order label produce two search answer give query likely satisfy user need rank function level suppose know compare two rank give query extend result individual query set query second problem arise average result several query enough know whether query rank better also necessary know much contribution agree five interpret measure term explicit user model improve understand exactly measure measure illustrate necessity user model consider case first rank function produce sequence another function produce f f f provide scan list sequentially stop search second position rank second rank clearly better obviously true may even false scan least three position resort user model also help us break chicken egg problem one face compare two different metrics decide metric best call third meta metric various meta metrics likely coexist meta metric meta metrics necessary user model hand compare base predictive ability one model predict accurately future user search engine metric derive first user model reliable completely solve problem though different metrics derive user model work first concentrate describe possible user model important widely use metrics average precision section one exercise help us identify implicit behind metric relate quite naturally metrics find literature design user model fully generative statistical model base explicit way possible evaluate model base past data section fifteen evaluate accuracy model test set section two propose extension relevance derive new metric compare two rank base proportion better one rank one probabilistic average precision six metric associate particular set hypothesis user behavior turn define user model estimate data see metrics like seven average search length reciprocal rank share user model first introduce suppose document judge understand rank sequence label one r r index case document position rank either relevant denote l relevant l often use notation r represent whole rank position r also introduce binary variable er call examination indicate whether particular rank r examine user subscript r drop ambiguity examine position mean evaluate snippet order decide whether correspond document promise finally binary variable indicate whether document click suppose document click position previously examine accidental click hand click ignore examine user model assume user browse sequentially list user stop satisfy define three different set true user satisfy exactly rank r true user click result rank r er true user examine document rank r note user satisfy one rank hence variable true one rank r true false rank r different r order keep compact use follow first random variable x x x equivalent x true x false respectively use x shorthand x x denote indicator value one event x x true zero otherwise another handy shorthand use deal series set r one r represent r similarly b set combine previous x b shorthand x x b x eleven average precision metric define average compute relevant document position precision relevance r one one x number document relevant query hand relevance r one document relevant zero otherwise practice sum often truncate small number term twelve user model relate measure user model first observe precision r one interpret measure easy fast r relevant document find user browse result list sequentially exactly r relevant document assume need exactly r relevant document user always click upon examine relevant document expect precision coincide discuss five order formalize define follow user model user model one probabilistic one one user decide number n relevant document need meet information need two browse result list sequentially three click document examine depend relevance document four end search soon click n relevant document different need different number document n correspond discrete random variable denote n see model assume user end search satisfy search must end relevant document several user model origin example four propose next interpretation every time relevant document encounter user pause ask document see far average satisfy write number piece paper finally user examine every document collection way sure relevant see user compute average value write scenario stress unrealistic direct use total number relevant document component evaluation measure short thirteen prognostic metric two three x x information need meet describe central metric evaluation rank accord model assumption user browse result list sequentially abandon search soon meet information need r also imply document examine rank r none examine rank r e r also imply document rank r click ie c one r e prognostic metric attempt evaluate quality rank present consequence need evaluate marginalize possible user value n n zero l n zero otherwise n l one r r x r x r one r e r c z e c r e one r e c e c r one z one b z one z c n two c z z first equality hold simple joint distribution equality two hold zero unless one e r one r e r entail user examine position r end search r r user end search click relevant document r click document examine two c three c factor deterministic equality three zero unless one document position r relevant two user click position r event occur probability b document relevant three user click exactly n one relevant document prior position r condition realize probability obey c model state probability click depend rank provide know whether user examine position label document rank hence c constant independent rank denote observe relevant document among first position possible probability e one n one possible configuration ie value define zero n l l one l n one three indicator l r one l zero otherwise first prognostic measure define probabilistic interpretation expect precision rank search abandon term user model e precision n x n r x n r n use three express n x n r x l r n n one finally set one n one n one n one one x x n l n n r original claim various prognostic metrics easily construct base pap user model n n define three know maybe obvious expect search length define n n four x n x r expect reciprocal rank n n five x n one r x r definition closer original expect search length cooper would consider expect number irrelevant document retrieve n relevant document x r one r x r n x n x r r n n six metrics base knowledge one central quantity namely probability n user satisfy know look n relevant document understand different ways weight rank unfortunately although correlate metrics necessarily lead conclusion use compare two rank function fourteen diagnostic metric diagnostic metrics mean evaluate rank present collect case user model base update probability r click information ie estimate r r suppose observe sequence click skip r rank define r give r know number relevant document click position b negative binomial distribution provide document r relevant b satisfy one r simply one last accord user model either user satisfy rank b one r hence b r need estimate b r click document relevant probability zero otherwise know user satisfy rank b look relevant document b r n r n n c e r q define r r compute diagnostic four five six suitable metric interest particular adopt convention precision null information need meet ie one r revise four compute expectation precision know user click r e r l b r b b moreover suppose click document relevant disregard case user meet information need diagnostic version pap coincide seven model metric empirical estimate give close relation diagnostic average search length reciprocal rank see seven deduce pap user model also generalize underlie user model metrics fifteen estimation order estimate model want maximize likelihood data define latter necessary compute likelihood session define click r ie compute l r r suppose last click session position b user click relevant document case know user either satisfy rank b continue search beyond rank r likelihood first case b r r b b b b r r second case user satisfy relevant document b r r n observe marginalize obtain l n b session without click never satisfy user likelihood obtain previous equation observe n zero zero n zero one case click model imply one r evaluate n n ce l ce l multiply likelihood set observe sessions maximize result product use standard sixteen numerical experiment collect log yahoo search engine set approximately sessions least one click editorial judgment top ten together record click record data set follow form sequence ten label follow sequence ten true false indicate state divide data ten random use ie ten original set data maximize likelihood data label scale need decide adapt five level two level relevant irrelevant suitable pap explore successively possible map consider first perfect document relevant p row table one excellent perfect document relevant e case table one observe estimate base ten data fairly stable consider document label good relevant probability click relevant document oppose nineteen irrelevant document also observe require one relevant document satisfy information need twelve need two five need would like know label relevant irrelevant best align actual user behavior pap model generative model use predict user behavior ie document click give specific rank therefore compare accuracy test set use perplexity common measure surprise model present new observation give propose probability model q true distribution p one may evaluate q ask well predict separate test sample size draw p perplexity model q define one q xi two p seven better q unknown distribution p tend assign higher observe test set thus lower perplexity ie less surprise test sample context user perplexity monotonically increase function joint probability sessions test set analytically probability identical likelihood test set instead maximize respect latter hold fix value maximize likelihood train set sessions train test set contain ten result set ten time number sessions seven perplexity interpretable number per correct prediction binary event click skip document lower perplexity better model perplexity one correspond interpretation strictly correct click skip session independent evaluation continue however valid table one median click require number document distribution proportion require four document significantly zero l b f seventeen g nineteen e fourteen p twelve n n n one n two n three n four zero zero two one zero eleven twelve twelve seven one zero zero three two zero ninety perfect perplexity two correspond randomly predict click skip plot perplexity result ten data split five possible figure three experiment show consider relevant document good better lead best model fix also plot perplexity simple rate model predict click accord document label example bad label appear fifty sessions click twenty time probability click bad estimate twenty model take account document position rank two map pap model state user need n relevant document stop search find nth document document beyond rank importance although assumption user stop search soon information need meet seem adequate harder believe number relevant document satisfy need also hard believe actually know number remain work propose model certain amount utility associate click document user stop search gather enough utility meet information relax assumption document either relevant l l l allow label example user model specify follow user model two satisfy information need seven one user examine page result sequentially two click document examine probability ce l depend document label l three click document label l acquire quantity l utility four gather enough utility satisfy information need end search assume additive click document label l contribute amount l utility add total utility user already gather completely realistic two document provide content utility consult model reminiscent two short utility consult one ignore limitation work long document judge independently one another editorial judge solution problem note also suffer shortcoming adopt define pap user model section one total utility associate set r one one user click r write p click rank r zero otherwise total utility user acquire higher probability information need meet capture probabilistic relation total amount utility continuous positive variable binary variable state whether user information need meet use sigmoid function one one suitable intercept effect function squash value real axis interval zero one suitable able establish relation utility information need one r r eight r x section one true user satisfy rank r user click document total utility increase increase probability information need meet possible logistic function present clear advantage simple monotonically increase argument total amount utility sin satisfaction prognostic satisfaction interest rank user satisfy r r estimate marginalize joint distribution model give r r r r r r r nine first component estimate train data second deterministic third give eight present particular analytical difficulty expect kind simplification pap process illustrate figure one two first rank assume user always examine rank one either click first document follow leave branch event happen probability c one skip follow right path choose first solution decide probability document position one sufficient fulfill information need end search otherwise continue event happen probability one right reach rank two one three state one e click document one decide information need satisfy search end node five figure one click document decide need meet leave branch node three rank one one click start utility zero yes c one e one c one e one two stop utility seven stop utility zero one yes rank two three click five end one eight click yes c two e two c two e two yes c two e two c two e two four stop utility stop utility nine stop utility ten stop utility zero six figure one sin decision process ce l l six four two zero two b b one r ten model estimation evaluation click document information need meet right branch node eight end node rank one nod three five eight reach probability equal product path node one report figure one together yes determine path user end node five process repeat node three diagnostic satisfaction order evaluate diagnostic counterpart metrics need estimate satisfaction user observe development similar section fifteen distinguish two case user satisfy rank b last click first case b b r r b one e one b e r r r ten eight six four two zero use nine fact user always examine rank satisfy ie e one one rank less equal b b user examine rank satisfy ie e b one rank b c never click non examine rank ie c one rank b similarly user satisfy e one r r r one r e one r r r r r one r eleven finally combine ten eleven b r r r one use eight b r r b r r r q r r c e b r r eight python script compute p r publicly available b f g e p b f g e p figure two leave probability click give document label right utility document give label value intercept also report b r likelihood l session correspond probability r r sequence click obtain add ten eleven r r r one r r one r twelve maximize likelihood ten result report figure two table two opinion interest result first click exception label bad increase accord label order correspond intuition enforce model bad document compare fair document higher probability click lower utility agreement expect document perfect document identify target navigational query particularly high probability click first click user predict stop probability perfect compute perplexity sin model compare table two probability click utility accord document label third column report probability end search click one document correspond label median intercept label l bad fair good excellent perfect ce l thirty l l forty seventy zero four one five three one zero three one five two one zero one nine zero eight zero seven zero six zero g c n car six five four three two one zero pap b pap f pap g pap e pap p sin loss figure three perplexity different user model ten performance pap user model result show figure three see sin significantly outperform pap loss benefit metric define set prognostic diagnostic metrics sin pap four five six time probability estimate base sin user model metrics best reflect user satisfaction clear might even system dependent metrics understand different ways average value position r necessity certain extend arbitrary new approach propose avoid completely caveat attempt remain neutral possible avoid average position basis comparison two rank b propose estimate expect number meet information need one rank denote sa resp set satisfaction rank resp b fact user meet information need sooner rank rank b denote b happen probability b r b one r r b one r r x r x suppose user behavior two rank independent benefit b rank loss negative define proportion better rank rank b b b b script footnote eight also compute prognostic diagnostic benefit figure four loss rank entire reflect loss value distribution top right respectively compare two rank function benefit average query argue new metric neutral weight average compute b instead sa compare pointwise benefit also advantage straightforward interpret numerical experiment compare two convenient absolute value characterize separately easily achieve compute benefit respect ideal rank obtain order document accord figure four report benefit respect ideal rank actually loss function normalize logarithmic discount factor expect lower loss although correlate two value sufficiently different lead different choice rank function figure four distinguish set rank leave loss lead opposite rank far ideal term loss value range three five moderately average value seven eight range isolate rank identify fill circle figure four extreme leave get insight correspond query car rank report different statistics associate rank table three first observe loss stable rank two vast majority present ideal rank meet information need table three absolute gain query car discount logarithmic score ten five three five zero second column report document label actual ideal b rank next two report proportion meet information need different rank rank b respectively rank label sa r r one two three four ge five six seven eight nine ten eleven six nine seventeen ten seven five three two two benefit rank three accord sin model loss essentially determine proportion meet information need actual rank first two position data collection perfect document target page navigational query sin model consistent definition predict high probability user stop search see target document hand keep increase steadily rank ten contribution give position final value independent document present position discussion show reasonable reconstruction user decision process deduce definition important help us question implicit hypothesis behind metric propose origin pap user model suppose first click document probability depend whether relevant oppose least implicitly always click relevant document like four also reject idea total number relevant document collection need know evaluate system instead suppose number document require user follow distribution estimate past user sin model question pap hypothesis rather suppose need number relevant document argue search long information need satisfy make assumption document higher level relevance provide utility user contribute satisfaction design sin user model predict user stop base total amount utility gather hypothesis appeal intuitively able handle naturally relevance level unlike metrics user model compare quantitatively ability predict user ie document user click skip present new rank evaluate prediction accuracy determine model adapt ie represent better user behavior give search engine give market give set particular show pap model base consider good better document relevant lead best prediction accuracy also show sin model outperform pap model match intuition able handle level relevance metrics base knowledge probability distribution rank user meet information need distribution evaluate prior expose rank marginalize possible result list metrics base prior distribution qualify prognostic metrics use train rank function choose among different probability distribution estimate new rank function expose enough record give rise diagnostic counterpart metrics see user model give rise different metrics choose one particular certain extent arbitrary context important make possible lead us propose two rank best one lead user fulfill information need rank base definition possible estimate benefit new rank number favor model propose still rather crude many important ignore pap sin model make assumption user examine rank meet information need clearly unrealistic abandon search despair reformulate query correction assumption topic future work like document diversity user diversity query class also respect field interactive ignore information retrieval three certainly important source inspiration three reference one g user model compare evaluate web metrics proceed workshop future evaluation two g c estimate intrinsic document relevance click proceed conference three kelly evaluate interactive information retrieval volume three trend information retrieval four j precision measurement retrieval effectiveness one five new interpretation average precision proceed eight page new york six e harman experiment evaluation information retrieval press seven k wang walker z estimate relevance rank quality web search data proceed page new york complete reference work find one