diffusion vector graphics university figure one diffusion curve allow us draw vectorial image rich set color leave base diffusion process propagate color information curve scene color could choose arbitrarily diffusion controllable user work introduce ways alter diffusion behavior allow us reduce number color equivalent output middle control diffusion strength certain color right floor even influence diffusion right cushion abstract formulation diffusion curve al allow flexible creation vector graphics image set curve color diffusion process fill part image away curve however model certain always seem agree artist want use first diffusion control color fact color need define everywhere along curve lead tedious nonintuitive paper present number diffusion curve constrain color spread across image specifically argue utility control speed direction color diffusion ability define without need specify particular color along curve also describe implement solve linear system demonstrate effectiveness solution number one introduction today rely many different display information range small large projector screen consequently produce content vectorial image become important often beneficial work object describe directly via represent shape instead work consequently jean copyright association compute machinery permission make digital hard copy part work personal classroom use grant without fee provide copy make distribute commercial advantage copy bear notice full citation first page copyright work own must honor abstract credit permit copy otherwise republish post redistribute list require prior specific permission fee request one june seven ten less prone degrade object representation often case raster vectorial image adapt screen resolution produce adequate image challenge remain traditional vector graphics tend look less detail advance color fill help close gap initially distinguish linear radial color new like gradient mesh adobe illustrator c c capable represent almost image interpolate color quad mesh unfortunately introduction grid add complexity vector illustration trade edit advantage representation make automatic conversion prefer method creation sun al lai al diffusion curve al combine curve diffusion method smoothly spread color curve across image fact representation rely small number simple make particularly diffusion process allow highly expressive result pollard observation also make successfully apply similar context animation diffusion key component enable rich yet simple definition nevertheless previous draw allow user control diffusion process limit expressivity could make cumbersome work address limitation enable control diffusion process illustrate importance control look point curve diffuse value side particular along occlusion diffusion typically occur occlude part handle blend mask manually create limit extent diffusion hand diffusion curve al offer kind control many exhibit unwanted color artist force specify diffuse color side curve even need example illustrate figure one middle curtain need color even diffusion control curve many control occlude boundary lead large number additional color whose presence affect radial appearance sun gradient instead system allow definition diffusion block diffusion without emit color color need define block side avoid illustrate inset arise unnecessary color perfectly match geometry diffusion also use define shape simply fill color via diffusion curve apply similarly tool another example gradient color different place intervene differ figure one right illustrate shadow underneath bed also strongly influence surround floor control color strength directly provide influence impact color previously artist oblige place additional curve simulate nonlinear diffusion behavior tedious color change also imply curve would need adapt influence diffusion via color strength independent associate color also introduce control diffusion orientation help guide color locally almost like smear tool allow complex shape color achieve uniform diffusion available previous work figure one right technique use create complex pattern cushion finally one need use color result diffusion process different location scene shape represent thin one want guarantee smooth color transition fig two show example figure three show entire teaser image apply diffusion figure two artist decide add color gradient wall usually would block curtain rod virtually connect two color transfer one side color gradient conveniently define interior region wall similar fill enable set diffusion technique avoid enable control diffusion process relate diffusion maintain simplicity original diffusion curve new artistic freedom allow expressivity enable intuitive design complex color precisely diffusion block diffusion emit color control diffusion anisotropy orientation control diffusion strength speed generalize solution method nonlocal diffusion two previous work diffusion process often underly solve equation solution minimize deviation give figure three figure show teaser image modify use diffusion curve present paper solution offer control diffusion process make several task simpler gradient field formulation find many include image compression elder manipulation photograph elder al seamless al alpha mat sun al equation also basis diffusion curve al gradient domain paint pollard color sparsely define along curve image interpolate everywhere else al introduce faster accurate solver exploit fact sparse also al interest although efficient diffusion always uniform work strongly inspire approach aim flexible tool provide user control diffusion process diffusion process also could beneficial interpolate value enable even general surface detail al approach benefit propose paper well number achieve resolution independence reconstruction use diffusion one possibility system levy simulate complex shade via local use linear quadratic since image conversion process result may contain large number different approach know gradient mesh artistic tool available commercial enable user specify color vertices planar quadrilateral mesh color interpolate creation tedious sun al lai al propose assist user automatically optimize gradient mesh accord give input image nevertheless control give color interpolation many vertices patch necessary produce complex shade color boundary three mathematical background present algorithm discuss base equation principle underlie diffusion curve section reformulate relationship constrain linear system provide basis work section present modify system support diffusion curve block diffusion process without emit color section show guide diffusion process orient accord flow field section add possibility control strength color diffusion section address nonlocal extension diffusion process allow us transfer color one part image another section five diffusion process work build upon framework previously apply many turk al al consider image n k one n color address individually grid simply j goal derive match set constrain color k one n index set gradient close give vector field w k one n vector field value also store address like k wy k image define implicitly use equation div w k one operator div divergence operator solution usually find solve version equation one color channel separately solver could use efficient conjugate gradient al option case value j need update add j j div wi j four case diffusion curve color specify along side curve represent hard addition vector field w zero everywhere except across constraint curve word solution show continuous smooth change color except across hard reformulate diffusion process facilitate understand influence diffusion process need look little closer solve equation one result image solution follow constrain minimization image j n subject k two gradient operator color position wi vector field w position solution result minimization process search image whose gradient best fit give vector field respect color wy work want guide diffusion process various ways consequently always rely original equation instead set constraint system involve hard soft hard color store position define initial color curve choose user hard satisfy exactly soft guide diffusion image implicitly define color remain soft might satisfy exactly solution best satisfy system least square sense illustrate use equation system start write soft constraint system x one n wy one wy n three k wy x simple matrix encode derivative along axis x k vector field w value k one n line x form zero zero one one zero zero define accordingly matrix encode solution go modify purpose general equation system three find fit use equation need multiply result x one n wy one wy n wy one wy n x x x four x one n n number image operator discrete version divergence operator similarly example line form zero zero one two one zero zero correspond discrete second derivative similar structure imply line matrix form j j j div wi j readily correspond discrete equation four diffusion control via constraint illustrate apply previous formulation order improve upon original standard definition diffusion important issue address paper relate inflexibility relation curve color diffusion curve one need define color value side curve often oblige select color awkward produce unwanted figure four soft indicate diffusion behavior b color attribute color diffusion illustration e result minimization miss soft place middle image prevent color mix show figure five example black line define exterior side hat impact color location order avoid user must select color along intersection hat furthermore choice right color difficult since need match diffuse region accordingly better solution would enable diffusion process determine color directly word curve question would one side define color interior hat side simply use barrier prevent ribbon hat color mix figure six blue orange stroke b diffusion blue orange stroke c circle curve define diffusion barrier diffusion block interior exterior circle diffusion barrier e soft break connectivity across curve also possible set different behavior one side curve case one side emit color whereas serve barrier prevent color cross curve location important tool let us user avoid define color awkward previously show figure five figure five diffusion curve color define along curve background suppose dark color drag interior hat red circle able specify constraint system allow us define locally controllable diffusion behavior omit relate two break connectivity therefore block diffusion process location better understand figure four illustrate situation represent image store soft constraint indicate direction color information diffuse thus every diffuse color neighbor except locate along two middle grid order illustrate impact locally manipulate soft constraint relate two neighbor therefore break connectivity color information define position b result diffuse follow connectivity define soft constraint middle grid relate color information cross therefore prevent mix e simple operation enable us define diffusion curve actively emit color instead responsible block diffusion process cross underneath kind curve useful user desire restrain diffusion reach certain region without actually define color location figure six show practical example use curve blue orange color place image curve add blue orange diffuse mix certain b nevertheless place circle curve barrier curve c diffusion blue restrain interior analogous orange exterior practice diffusion obtain break connectivity underneath curve locate leave side e figure seven leave line along occur center red green line curve transform barrier curve emit color one side right result diffusion figure seven leave indicate line place color constrain curve problematic solve problem transform line diffusion keep right side red line emit color interior hat leave side remove connect underneath curve analogous interior side green line emit original color exterior side work barrier result diffusion depict figure seven right notice color diffuse nicely expand hat without discontinuity anisotropic diffusion see section diffusion process guide soft derivative minimize ensure uniformity result interest many useful give control process draw streak flame paint stroke phenomena color interpolation often privilege direction word continuity enforce strongly along one direction another behavior achieve via directional smoothness result anisotropic diffusion let us look simple example see row matrices x enforce smoothness along correspond ax leave row would lead diffusion along direct consequence fact along longer penalize figure eight c e b b c e leave show influence process illustrate result streak obtain solution like color interpolate along curve follow curve tangent direction figure eight leave horizontal diffusion right diffusion arbitrary diffusion direction cos sin matrix row need change directional derivative along x correspondingly constraint read cos j j sin j zero five replace original constraint lead diffusion process along goal use differ directional globally guide diffusion figure eight right general diffusion rarely purely follow single direction usually privilege direction orthogonal counterpart want imply need similar smoothness constraint involve sin cos add system would result uniform diffusion process merely reflect rotation basis mean take role x three nonetheless anisotropic result obtain scale differently influence result equation system show use observation control strongly give direction respect color diffusion figure nine define diffusion diffuse order specify direction standard anisotropic diffusion suggest user draw direction curve curve contain vector whose direction define orientation whose length result scale factor perform define directional curve spread via uniform diffusion lead value interface let user define length smaller one global scale affect solution example figure nine b diffusion use refrain diffusion right outer arc leave inner arc side curve add color diffusion process accord equation five lead result depict figure ten color information define along curve drag flow field result diffusion color create rainbow effect b define diffusion direction user define single direction per curve would possible previous example basically constant length directional vanish oppose merge diffusion privilege direction exist uniform diffusion apply need compatible idea use length define standard anisotropic diffusion one possibility would use one scale factor equation accord one diffusion along apply zero uniform diffusion practice use different solution threshold vector longer threshold renormalize use length threshold could also diffuse find global value five usually good choice figure ten define ensure color diffuse accordingly figure eleven illustrate influence anisotropic diffusion threshold standard diffusion curve lead smooth result miss much vivid one would expect case fire illustration solution contrast improve color follow flow line final result look detail although rely color curve modify threshold allow us obtain uniform body fire figure eleven complex anisotropic diffusion define small set curve two use different threshold uniform anisotropic diffusion color strength previous section present way control diffusion one limitation allow us influence diffusion speed word independent direction diffusion two color weight color way section present solution attribute strength color order define dominance diffusion process b definition diffusion diffuse color diffuse along diffusion figure twelve leave standard diffusion equal strength center orange blue right vary strength along curve figure twelve depict simple example two color orange top blue bottom expect diffusion process spread color uniformly remain image connect color order achieve result introduce color mechanism control region influence color diffusion process manipulate color strength artist make orange color become dominant blue thus push diffusion direction figure twelve center variety effect obtain different value color strength define along line example diagonal diffusion effect figure twelve right figure thirteen show example complex color achieve manipulate color strength interior exterior eye compare standard result show color strength extension lead interest result additional curve figure thirteen curve leave define part image right leave part use uniform right differ weight one way control strength color diffusion formulate problem interpolation process intuitively two color respective would like interpolation two yield see equation result ai zero equation simplify therefore value use control dominance one color result linear combination initial color value naturally favor color higher strength generalize ak ai sense think blend process strength value indicate mix due normalization weight blend nonlinear hence would fit diffusion framework nevertheless possible linearize use homogenous color homogenous color alpha value define r g b algebraically zero forty homogeneous widely use projective geometry two homogenous color describe actual color ai zero actual color obtain via projection map p r g b ra ga ba easy verify projection sum homogenous color correspond weight sum actual color define key idea extension alpha value color define color strength interface user specify standard color c r g b color strength input transform homogenous color map ar channel include alpha channel thus diffuse separately follow diffusion behavior end diffusion process perform projection ra ga ba obtain final result correctness solution become clear inspect way would update value solver average compute step final projection transform result weight sum diffusion reflect weight explicitly exclude case ai equal zero make color contribution weight sum zero well therefore would possible use special case define diffusion practice lead small along care take correct arise solution present section five beyond local final problem address relate fact diffusion usually locally define word differently color region always block diffusion boundary section present solution connect different image ensure continuous diffusion extent serve color pick color implicitly define diffusion process solution ensure color two simply link diffusion process via soft via similar condition one usually exist neighbor two translate soft constraint form zero importance similarity steer multiply equation factor hence possible ensure receive similar value end diffusion definition constraint simple allow user link two curve define point correspondence default match curve via uniformly also possible match one curve several need several arise possibility possible address smaller without resort layer channel color one side object another illustrate figure two color continue across small gap another application creation seamless usually complicate process color match correctly across exist create al case artist little control appearance match boundary via nonlocal diffusion wrap around domain design process result already visualize also possible move repeat displacement effectively drag texture screen example find figure fourteen color strength simple way make illustration without increase complexity hold anisotropic diffusion allow us increase richness drastically directional curve intuitively define complex color diffusion finally nonlocal diffusion allow easy color transfer occlusion treatment figure sixteen approach diffuse color leave also middle purpose right seven future work paper present increase flexibility tool illustrate several solution strong benefit user work also enable new design previously easily realizable exist future would like investigate new interaction could replace input example brush stroke could useful extension believe work also flow field versatile one recent example street model al work could use design process possibility guide diffusion information could interest extension city another example concern vectorial model usually tedious automatic layer vector graphics possible al result document usually refine artist diffusion curve involve care must take ensure color consistency across cut introduce allow layer decomposition diffusion ensure smoothness final illustration across layer way could also connect different image time order produce single various match texture tile employ wang tile al thank helpful improve paper special thank go l lovely draw also would like thank wand team insightful comment h support cap brazil acknowledge support foundation national science foundation grant reference g g p p e interactive procedural street model graph three f shade j hiller wang tile image texture generation three paper new york figure fourteen seamless diffusion via nonlocal figure fifteen approach diffuse color leave also middle purpose right six result method implement use graphics card besides nonlocal handle locally thus integrate directly diffusion curve algorithm color strength come add cost thirty diffusion use four instead three channel directional diffusion come roughly twice cost first diffuse still lead solution unfortunately quality final result suffer solver nonlocal local diffusion model longer efficient instead rely general global linear solver implement side benefit lead precise image unfortunately due generality solver system longer reach performance teaser image computation take approximately four five second image although feedback instant sufficiently fast create convince draw small amount time need one could imagine cache nonlocal constraint result give approximate faster feedback spirit could also maintain invert matrix allow interactive color adaptation keep future work advantage solution flexible avoid artist desire diffusion also make color fill intuitive useful diffuse figure sixteen fold skirt hair lion benefit solution make light look e f visibility algorithm convert mesh vector graphics nine paper new york eighteen elder j h w space scale localization blur image cod proceed conference computer vision pattern recognition elder j h w local scale control edge detection blur estimation pattern anal twenty seven z g instant image clone nine paper new york nineteen cline p solver diffusion curve image edit proceed eighteen cline p render surface detail diffusion curve proceed eighteen f illumination animation international symposium animation render lai martin r r automatic gradient mesh generation image transaction graphics three eighteen g levy b automatic region detection conversion proceed symposium render j pollard n gradient domain paint proceed p j manipulation photograph international symposium animation render h p j diffusion curve vector representation image proceed vol p p blake image edit proceed sun j j tang mat graphics three sun j liang l wen f image use optimize gradient mesh transaction graphics three eleven j turk g boundary hierarchy contrast reduction proceed p projective alpha colour proceed graphics